{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\amijatovic\\\\Desktop\\\\isa\\\\ISA-projekat-main\\\\ISA-front\\\\src\\\\Components\\\\Modal\\\\EditStorageModal.js\";\nimport React, { Component } from 'react';\nimport { Button, Modal } from 'react-bootstrap';\nimport Axios from 'axios';\nimport GetAuthorisation from \"../../Funciton/GetAuthorisation\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_URL = \"http://localhost:8080\";\n\nclass EditStorage extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      count: 1\n    };\n\n    this.handleCountChange = event => {\n      this.setState({\n        count: event.target.value\n      });\n    };\n\n    this.handleAdd = () => {\n      let editStorageDTO = {\n        pharmacyId: this.props.pharmacyId,\n        drugInstanceId: this.props.drugId,\n        count: this.state.count\n      };\n      console.log(editStorageDTO);\n      Axios.put(API_URL + \"/drug/editPharmacyStorage\", editStorageDTO, {\n        validateStatus: () => true,\n        headers: {\n          Authorization: GetAuthorisation()\n        }\n      }).then(res => {\n        if (res.status === 200) {\n          alert(\"Number of drugs is successfully edited.\");\n          this.handleClose();\n        } else if (res.status === 400) {\n          alert(\"It is not possible to change number of drugs.\");\n        } else {\n          alert(\"Error.\");\n        }\n\n        console.log(res.data);\n      }).catch(err => {\n        alert(\"Error.\");\n      });\n    };\n\n    this.handleClose = () => {\n      this.props.closeModal();\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(Modal, {\n      show: this.props.show,\n      centered: true,\n      children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n        children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n          children: \"Edit number of drugs in storage\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"control-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"table\", {\n              style: ({\n                width: '100%'\n              }, {\n                marginLeft: '17%'\n              }),\n              children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  children: /*#__PURE__*/_jsxDEV(\"label\", {\n                    children: \"New count:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 68,\n                    columnNumber: 53\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 67,\n                  columnNumber: 49\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: /*#__PURE__*/_jsxDEV(\"input\", {\n                    className: \"form-control\",\n                    style: {\n                      width: \"12.8em\"\n                    },\n                    type: \"number\",\n                    min: \"1\",\n                    onChange: this.handleCountChange,\n                    value: this.state.count\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 71,\n                    columnNumber: 53\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 70,\n                  columnNumber: 49\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 66,\n                columnNumber: 45\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 65,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group text-center\",\n              children: /*#__PURE__*/_jsxDEV(Button, {\n                className: \"mt-3\",\n                onClick: () => this.handleAdd(),\n                children: \"Modify storage\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 77,\n                columnNumber: 45\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 76,\n              columnNumber: 41\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Footer, {\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          onClick: () => this.handleClose(),\n          children: \"Close\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default EditStorage;","map":{"version":3,"sources":["C:/Users/amijatovic/Desktop/isa/ISA-projekat-main/ISA-front/src/Components/Modal/EditStorageModal.js"],"names":["React","Component","Button","Modal","Axios","GetAuthorisation","API_URL","EditStorage","state","count","handleCountChange","event","setState","target","value","handleAdd","editStorageDTO","pharmacyId","props","drugInstanceId","drugId","console","log","put","validateStatus","headers","Authorization","then","res","status","alert","handleClose","data","catch","err","closeModal","render","show","width","marginLeft"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Button, Modal } from 'react-bootstrap';\nimport Axios from 'axios';\nimport GetAuthorisation from \"../../Funciton/GetAuthorisation\";\nconst API_URL=\"http://localhost:8080\";\nclass EditStorage extends Component {\n    state = {\n        count:1, \n    }\n\n    handleCountChange= (event) => {\n        this.setState({count:event.target.value});\n    }\n\n    handleAdd = () => {\n        let editStorageDTO = {\n            pharmacyId: this.props.pharmacyId,\n            drugInstanceId: this.props.drugId, \n            count:this.state.count\n        };\n        console.log(editStorageDTO);\n            Axios\n            .put(API_URL + \"/drug/editPharmacyStorage\", editStorageDTO, {\n                validateStatus: () => true,\n                headers: { Authorization: GetAuthorisation() },\n            }).then((res) =>{\n                if (res.status === 200) {\n                   alert(\"Number of drugs is successfully edited.\");\n                    this.handleClose();\n                }else if(res.status===400){\n                   alert(\"It is not possible to change number of drugs.\");\n                }\n                else{\n                    alert(\"Error.\");\n                }\n                console.log(res.data);\n            }).catch((err) => {\n                alert(\"Error.\");\n            });\n        }\n    \n\n    handleClose = () => {\n     \n        this.props.closeModal();\n    }\n\n   \n\n    render() { \n       \n        return ( \n            <Modal\n                show = {this.props.show}   \n                centered\n                >\n                <Modal.Header >\n                    <Modal.Title >\n                        Edit number of drugs in storage\n                    </Modal.Title>\n                </Modal.Header>\n                <Modal.Body>\n                        <form >\n                            <div  className=\"control-group\" >\n                                        <table style={{width:'100%'},{marginLeft:'17%'}}>\n                                            <tr>\n                                                <td>\n                                                    <label>New count:</label>\n                                                </td>\n                                                <td>\n                                                    <input className=\"form-control\" style={{width: \"12.8em\"}} type=\"number\" min=\"1\" onChange={this.handleCountChange} value={this.state.count} />\n                                                </td>\n                                            </tr>\n\n                                        </table>\n                                        <div  className=\"form-group text-center\">\n                                            <Button className=\"mt-3\"  onClick = {() => this.handleAdd()} >Modify storage</Button>\n                                        </div>\n                                    </div>\n                                </form>\n                </Modal.Body>\n                <Modal.Footer>\n                    <Button onClick={() => this.handleClose()}>Close</Button>\n                </Modal.Footer>\n            </Modal>\n         );\n    }\n}\n \nexport default EditStorage;"]},"metadata":{},"sourceType":"module"}