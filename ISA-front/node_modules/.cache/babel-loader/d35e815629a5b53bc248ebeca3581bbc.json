{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\amijatovic\\\\Desktop\\\\isa\\\\ISA-projekat-main\\\\ISA-front\\\\src\\\\Components\\\\Modal\\\\AddOrder.js\";\nimport React, { Component } from 'react';\nimport { Button, Modal } from 'react-bootstrap';\nimport Axios from 'axios';\nimport DatePicker from \"react-datepicker\";\nimport MedicamentPicture from \"../../Images/medicament.jpg\";\nimport GetAuthorisation from \"../../Funciton/GetAuthorisation\";\nimport { Redirect } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_URL = \"http://localhost:8080\";\n\nclass AddOrderModal extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      drugsToAdd: [],\n      drugs: [],\n      page: 1,\n      modalSize: 'lg',\n      selectedDate: new Date(),\n      pharmacyId: '',\n      drugForAdd: '',\n      drugRemove: '',\n      selectedCount: '',\n      showDate: false\n    };\n\n    this.addItem = item => {\n      this.setState({\n        drugsToAdd: [...this.state.drugsToAdd, item]\n      });\n    };\n\n    this.addItem1 = item => {\n      this.setState({\n        drugs: [...this.state.drugs, item]\n      });\n    };\n\n    this.handleAdd = () => {\n      if (this.state.selectedCount < 1) {\n        alert(\"Count is must be more than 0.\");\n      } else {\n        let drugDTO = {\n          drugInstanceId: this.state.drugForAdd.Id,\n          drugName: this.state.drugForAdd.EntityDTO.name,\n          fabricCode: this.state.drugForAdd.EntityDTO.fabricCode,\n          producerName: this.state.drugForAdd.EntityDTO.producerName,\n          quantity: this.state.drugForAdd.EntityDTO.quantity,\n          amount: this.state.selectedCount\n        };\n        console.log(\"Bidibou\");\n        console.log(this.state.drugForAdd);\n        this.removeItem(this.state.drugForAdd);\n        console.log('res.data');\n        console.log(this.state.drugForAdd);\n        this.addItem(drugDTO);\n        this.setState({\n          page: 1,\n          selectedCount: '',\n          drugForAdd: ''\n        });\n      }\n    };\n\n    this.handleRemove = drugRemove => {\n      console.log(drugRemove);\n      let drugDTO = {\n        Id: drugRemove.drugInstanceId,\n        EntityDTO: {\n          name: drugRemove.drugName,\n          fabricCode: drugRemove.fabricCode,\n          producerName: drugRemove.producerName,\n          quantity: drugRemove.quantity\n        }\n      };\n      console.log(\"Bidibou\");\n      console.log(drugDTO);\n      this.removeItem1(drugRemove);\n      console.log('res.data');\n      console.log(this.state.drugForAdd);\n      this.addItem1(drugDTO);\n      this.setState({\n        page: 1,\n        selectedCount: ''\n      });\n    };\n\n    this.handleCreateOrder = () => {\n      let createOrderDTO = {\n        pharmacyId: this.props.pharmacyId,\n        listOfDrugs: this.state.drugsToAdd,\n        dateTo: this.state.selectedDate\n      };\n      console.log(createOrderDTO);\n      Axios.post(API_URL + \"/order/addNewOrder\", createOrderDTO, {\n        validateStatus: () => true,\n        headers: {\n          Authorization: GetAuthorisation()\n        }\n      }).then(res => {\n        console.log(res.status);\n\n        if (res.status === 201) {\n          alert(\"New Oreder is succesfully created\");\n          this.handleClickOnClose();\n        } else {\n          alert(\"It is not possibe to create new order\");\n        }\n      }).catch(err => {});\n    };\n\n    this.isValidData = addDrugToPharmacyDTO => {\n      if (addDrugToPharmacyDTO.drugId === '') {\n        return false;\n      }\n\n      if (addDrugToPharmacyDTO.dateTo === new Date()) {\n        return false;\n      }\n\n      if (addDrugToPharmacyDTO.amount < 1) {\n        return false;\n      }\n\n      if (addDrugToPharmacyDTO.price < 1) {\n        return false;\n      }\n\n      return true;\n    };\n\n    this.handleSelectedDateChange = date => {\n      this.setState({\n        selectedDate: date\n      });\n    };\n\n    this.handleSelectedCountChange = event => {\n      this.setState({\n        selectedCount: event.target.value\n      });\n    };\n\n    this.handleClickOnCreateOrder = () => {\n      if (this.state.drugsToAdd.length < 1) {\n        alert(\"Drug list is empty\");\n      } else {\n        this.setState({\n          page: 3\n        });\n      }\n    };\n\n    this.handleClickOnClose = () => {\n      this.setState({\n        drugsToAdd: [],\n        drugs: [],\n        page: 1,\n        selectedDate: new Date(),\n        pharmacyId: '',\n        drugForAdd: '',\n        selectedCount: ''\n      });\n      this.handleUpdte();\n      this.props.closeModal();\n    };\n\n    this.handleUpdte = () => {\n      Axios.get(API_URL + \"/drug/drugsInPharmacy/\" + localStorage.getItem(\"keyPharmacyId\"), {\n        headers: {\n          Authorization: GetAuthorisation()\n        }\n      }).then(res => {\n        console.log(res.data);\n        this.setState({\n          drugs: res.data\n        });\n      }).catch(err => {\n        console.log(err);\n      });\n    };\n\n    this.onAddClick = id => {\n      this.setState({\n        page: 2,\n        drugForAdd: id\n      });\n    };\n\n    this.handleBack = event => {\n      this.setState({\n        page: 1,\n        selectedCount: ''\n      });\n    };\n  }\n\n  componentDidMount() {\n    let pharmacyId = localStorage.getItem(\"keyPharmacyId\");\n    this.setState({\n      pharmacyId: pharmacyId\n    });\n    Axios.get(API_URL + \"/drug/drugsInPharmacy/\" + localStorage.getItem(\"keyPharmacyId\"), {\n      headers: {\n        Authorization: GetAuthorisation()\n      }\n    }).then(res => {\n      console.log(res.data);\n      this.setState({\n        drugs: res.data\n      });\n    }).catch(err => {\n      console.log(err);\n    });\n  }\n\n  removeItem(e) {\n    var array = [...this.state.drugs];\n    var index = array.indexOf(e);\n\n    if (index !== -1) {\n      array.splice(index, 1);\n      this.setState({\n        drugs: array\n      });\n    }\n  }\n\n  removeItem1(e) {\n    var array = [...this.state.drugsToAdd];\n    var index = array.indexOf(e);\n\n    if (index !== -1) {\n      array.splice(index, 1);\n      this.setState({\n        drugsToAdd: array\n      });\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(Modal, {\n      show: this.props.show,\n      size: \"lg\",\n      centered: true,\n      children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n        children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n          style: {\n            marginLeft: '37%'\n          },\n          children: \"Create Order\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 259,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 258,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"container\",\n          children: [/*#__PURE__*/_jsxDEV(\"table\", {\n            hidden: this.state.page !== 1,\n            style: {\n              width: '100%'\n            },\n            className: \"table\",\n            children: this.state.drugs.map(drug => /*#__PURE__*/_jsxDEV(\"tr\", {\n              id: drug.Id,\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                width: \"130em\",\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  className: \"img-fluid\",\n                  src: MedicamentPicture,\n                  width: \"70em\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 273,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 272,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: [\" \", /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                    children: \"Drug Name:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 276,\n                    columnNumber: 13\n                  }, this), \" \", drug.EntityDTO.name]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 275,\n                  columnNumber: 38\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                    children: \"Name:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 279,\n                    columnNumber: 13\n                  }, this), \" \", drug.EntityDTO.fabricCode]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 278,\n                  columnNumber: 12\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                    children: \"Manufacturer:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 283,\n                    columnNumber: 13\n                  }, this), \" \", drug.EntityDTO.producerName]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 282,\n                  columnNumber: 12\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                    children: \"Quantity:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 286,\n                    columnNumber: 13\n                  }, this), \" \", drug.EntityDTO.quantity, \" \", /*#__PURE__*/_jsxDEV(\"b\", {\n                    children: \" mg\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 286,\n                    columnNumber: 56\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 285,\n                  columnNumber: 12\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 275,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: /*#__PURE__*/_jsxDEV(\"button\", {\n                    style: ({\n                      height: '30px'\n                    }, {\n                      verticalAlign: 'center'\n                    }),\n                    className: \"btn btn-primary btn-xl mt-2\",\n                    onClick: () => this.onAddClick(drug),\n                    type: \"button\",\n                    children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                      className: \"icofont-subscribe mr-1\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 291,\n                      columnNumber: 190\n                    }, this), \"Add\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 291,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 290,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 289,\n                columnNumber: 33\n              }, this)]\n            }, drug.Id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 271,\n              columnNumber: 33\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 267,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"container\",\n            style: {\n              marginTop: \"5%\"\n            },\n            hidden: this.state.page !== 1,\n            children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n              children: \"Selected drugs\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 298,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n              hidden: this.state.page !== 1,\n              className: \"table\",\n              style: {\n                width: \"100%\",\n                marginTop: \"2rem\"\n              },\n              children: /*#__PURE__*/_jsxDEV(\"tbody\", {\n                children: this.state.drugsToAdd.map(drug => /*#__PURE__*/_jsxDEV(\"tr\", {\n                  id: drug.Id,\n                  children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                    width: \"130em\",\n                    children: /*#__PURE__*/_jsxDEV(\"img\", {\n                      className: \"img-fluid\",\n                      src: MedicamentPicture,\n                      width: \"70em\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 305,\n                      columnNumber: 41\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 304,\n                    columnNumber: 37\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                        children: \"Drug:\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 308,\n                        columnNumber: 50\n                      }, this), \" \", drug.drugName]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 308,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                        children: \"Name:\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 309,\n                        columnNumber: 50\n                      }, this), \" \", drug.fabricCode]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 309,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                        children: \"Manufacturer:\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 310,\n                        columnNumber: 50\n                      }, this), \" \", drug.producerName]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 310,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                        children: \"Amount:\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 311,\n                        columnNumber: 50\n                      }, this), \" \", drug.amount]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 311,\n                      columnNumber: 45\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 307,\n                    columnNumber: 37\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      children: /*#__PURE__*/_jsxDEV(\"button\", {\n                        style: ({\n                          height: '30px'\n                        }, {\n                          verticalAlign: 'center'\n                        }),\n                        className: \"btn btn-outline-primary mt-2\",\n                        onClick: () => this.handleRemove(drug),\n                        type: \"button\",\n                        children: \"Remove\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 315,\n                        columnNumber: 45\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 314,\n                      columnNumber: 41\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 313,\n                    columnNumber: 37\n                  }, this)]\n                }, drug.Id, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 303,\n                  columnNumber: 33\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 301,\n                columnNumber: 25\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 299,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 297,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            hidden: this.state.page !== 2,\n            children: /*#__PURE__*/_jsxDEV(\"form\", {\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"control-group\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-row\",\n                  children: /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => this.handleBack(),\n                    className: \"btn btn-link btn-xl\",\n                    type: \"button\",\n                    children: \"Back\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 327,\n                    columnNumber: 45\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 326,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n                  style: ({\n                    width: '100%'\n                  }, {\n                    marginLeft: '32%'\n                  }),\n                  children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                      children: /*#__PURE__*/_jsxDEV(\"label\", {\n                        children: \"Amount of drug:\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 334,\n                        columnNumber: 53\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 333,\n                      columnNumber: 49\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: /*#__PURE__*/_jsxDEV(\"input\", {\n                        className: \"form-control\",\n                        style: {\n                          width: \"12em\"\n                        },\n                        type: \"number\",\n                        min: \"1\",\n                        onChange: this.handleSelectedCountChange,\n                        value: this.state.selectedCount\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 337,\n                        columnNumber: 53\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 336,\n                      columnNumber: 49\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 332,\n                    columnNumber: 45\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 331,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-group text-center\",\n                  children: /*#__PURE__*/_jsxDEV(Button, {\n                    className: \"mt-3\",\n                    onClick: () => this.handleAdd(),\n                    children: \"Add drug to order list\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 342,\n                    columnNumber: 45\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 341,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 325,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 324,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 323,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            hidden: this.state.page !== 3,\n            children: /*#__PURE__*/_jsxDEV(\"form\", {\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"control-group\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-row\",\n                  children: /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => this.handleBack(),\n                    className: \"btn btn-link btn-xl\",\n                    type: \"button\",\n                    children: \"Back\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 351,\n                    columnNumber: 45\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 350,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n                  style: ({\n                    width: '100%'\n                  }, {\n                    marginLeft: '32%'\n                  }),\n                  children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                      children: /*#__PURE__*/_jsxDEV(\"label\", {\n                        children: \"Date:\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 359,\n                        columnNumber: 53\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 358,\n                      columnNumber: 49\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: /*#__PURE__*/_jsxDEV(DatePicker, {\n                        className: \"form-control\",\n                        style: {\n                          width: \"15em\"\n                        },\n                        minDate: new Date(),\n                        onChange: date => this.handleSelectedDateChange(date),\n                        selected: this.state.selectedDate\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 362,\n                        columnNumber: 53\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 361,\n                      columnNumber: 49\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 357,\n                    columnNumber: 45\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 356,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-group text-center\",\n                  children: /*#__PURE__*/_jsxDEV(Button, {\n                    className: \"mt-3\",\n                    onClick: () => this.handleCreateOrder(),\n                    children: \"Create order\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 367,\n                    columnNumber: 45\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 366,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 349,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 348,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 347,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 265,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 263,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Footer, {\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          hidden: this.state.page === 3,\n          onClick: () => this.handleClickOnCreateOrder(),\n          children: \"Create order\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 375,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: () => this.handleClickOnClose(),\n          children: \"Close\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 376,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 374,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 253,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default AddOrderModal;","map":{"version":3,"sources":["C:/Users/amijatovic/Desktop/isa/ISA-projekat-main/ISA-front/src/Components/Modal/AddOrder.js"],"names":["React","Component","Button","Modal","Axios","DatePicker","MedicamentPicture","GetAuthorisation","Redirect","API_URL","AddOrderModal","state","drugsToAdd","drugs","page","modalSize","selectedDate","Date","pharmacyId","drugForAdd","drugRemove","selectedCount","showDate","addItem","item","setState","addItem1","handleAdd","alert","drugDTO","drugInstanceId","Id","drugName","EntityDTO","name","fabricCode","producerName","quantity","amount","console","log","removeItem","handleRemove","removeItem1","handleCreateOrder","createOrderDTO","props","listOfDrugs","dateTo","post","validateStatus","headers","Authorization","then","res","status","handleClickOnClose","catch","err","isValidData","addDrugToPharmacyDTO","drugId","price","handleSelectedDateChange","date","handleSelectedCountChange","event","target","value","handleClickOnCreateOrder","length","handleUpdte","closeModal","get","localStorage","getItem","data","onAddClick","id","handleBack","componentDidMount","e","array","index","indexOf","splice","render","show","marginLeft","width","map","drug","height","verticalAlign","marginTop"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Button, Modal } from 'react-bootstrap';\nimport Axios from 'axios';\n\nimport DatePicker from \"react-datepicker\";\nimport MedicamentPicture from \"../../Images/medicament.jpg\";\nimport GetAuthorisation from \"../../Funciton/GetAuthorisation\";\nimport { Redirect } from \"react-router-dom\";\nconst API_URL=\"http://localhost:8080\";\nclass AddOrderModal extends Component {\n    state = {\n        drugsToAdd: [] ,\n        drugs:[],\n        page: 1,\n        modalSize:'lg',    \n        selectedDate:new Date(),\n        pharmacyId:'',\n        drugForAdd:'',\n        drugRemove:'',\n        selectedCount:'',\n        showDate:false,\n  \n    }\n\n\n    componentDidMount() {\n\t\tlet pharmacyId = localStorage.getItem(\"keyPharmacyId\")\n        this.setState({\n            pharmacyId: pharmacyId\n        })\n\t\tAxios.get(API_URL + \"/drug/drugsInPharmacy/\" + localStorage.getItem(\"keyPharmacyId\"), {\n\t\t\theaders: { Authorization: GetAuthorisation() },\n\t\t})\n\n\t\t\t.then((res) => {\n\t\t\t\tconsole.log(res.data);\n\t\t\t\tthis.setState({ drugs: res.data });\n\t\t\t})\n\t\t\t.catch((err) => {\n\t\t\t\tconsole.log(err);\n\t\t\t});\n\n    }\n\n    addItem = item => {\n        this.setState({\n            drugsToAdd: [\n            ...this.state.drugsToAdd,\n            item \n          ]\n        })\n    }\n\n    removeItem(e) {\n        var array = [...this.state.drugs];\n        var index = array.indexOf(e)\n        if (index !== -1) {\n          array.splice(index, 1);\n          this.setState({drugs: array});\n        }\n      }\n  \n      addItem1 = item => {\n        this.setState({\n            drugs: [\n            ...this.state.drugs,\n            item \n          ]\n        })\n    }\n\n    removeItem1(e) {\n        var array = [...this.state.drugsToAdd];\n        var index = array.indexOf(e)\n        if (index !== -1) {\n          array.splice(index, 1);\n          this.setState({drugsToAdd: array});\n        }\n      }\n  \n\n    handleAdd = () => {\n\n        if(this.state.selectedCount<1){\n           alert(\"Count is must be more than 0.\");         }\n        else{\n            let drugDTO = {\n                drugInstanceId: this.state.drugForAdd.Id,\n                drugName: this.state.drugForAdd.EntityDTO.name,\n                fabricCode: this.state.drugForAdd.EntityDTO.fabricCode,\n                producerName: this.state.drugForAdd.EntityDTO.producerName,\n                quantity:this.state.drugForAdd.EntityDTO.quantity,\n                amount:this.state.selectedCount\n            }\n            console.log(\"Bidibou\");\n            console.log(this.state.drugForAdd);\n            this.removeItem(this.state.drugForAdd);\n            console.log('res.data');\n            console.log(this.state.drugForAdd);\n            this.addItem(drugDTO);\n    \n            this.setState({\n                page:1,\n                selectedCount:'',\n                drugForAdd:''\n            })   \n        }\n    }\n\n    handleRemove = (drugRemove) => {\n           \n            console.log(drugRemove)\n    \n            let drugDTO = {\n                Id: drugRemove.drugInstanceId,\n                EntityDTO:{\n               \n                name: drugRemove.drugName,\n                fabricCode: drugRemove.fabricCode,\n                producerName: drugRemove.producerName,\n                quantity:drugRemove.quantity\n                }\n            }\n\n            console.log(\"Bidibou\");\n            console.log(drugDTO);\n            this.removeItem1(drugRemove);\n            console.log('res.data');\n            console.log(this.state.drugForAdd);\n            this.addItem1(drugDTO);\n    \n            this.setState({\n                page:1,\n                selectedCount:'',\n            })   \n        }\n    \n\n    handleCreateOrder = () =>{\n        let createOrderDTO = {\n            pharmacyId:this.props.pharmacyId,\n            listOfDrugs: this.state.drugsToAdd,\n            dateTo:this.state.selectedDate\n        }\n      console.log(createOrderDTO)\n        Axios\n        .post(API_URL + \"/order/addNewOrder\", createOrderDTO, {\n            validateStatus: () => true,\n            headers: { Authorization: GetAuthorisation() },})\n        .then((res) =>{\n            console.log(res.status)\n            if (res.status === 201) {\n                alert(\"New Oreder is succesfully created\");\n                this.handleClickOnClose();\n            }else {\n                alert(\"It is not possibe to create new order\");\n            }\n        }).catch((err) => {\n        });\n    }\n\n    isValidData = (addDrugToPharmacyDTO) =>{\n        if(addDrugToPharmacyDTO.drugId===''){\n            return false\n        }\n\n        if(addDrugToPharmacyDTO.dateTo===new Date()){\n            return false\n        }\n\n        if(addDrugToPharmacyDTO.amount<1){\n            return false\n        }\n\n        if(addDrugToPharmacyDTO.price<1){\n            return false\n        }\n\n        return true\n    }\n\n    handleSelectedDateChange = (date) => {\n        this.setState({\n            selectedDate:date,\n        });\n\n    }\n\n\n    handleSelectedCountChange = (event) => {\n        this.setState({selectedCount:event.target.value});\n    }\n\n    handleClickOnCreateOrder = () =>{\n        if(this.state.drugsToAdd.length<1){\n          alert(\"Drug list is empty\");       \n        }else{\n            this.setState({\n                page:3,\n            })\n        }\n    }\n\n    handleClickOnClose = () => {\n        this.setState({\n            drugsToAdd: [] ,\n            drugs:[],\n            page: 1,    \n            selectedDate:new Date(),\n            pharmacyId:'',\n            drugForAdd:'',\n            selectedCount:'',\n        });\n        this.handleUpdte();\n        this.props.closeModal();\n    }\n\n    handleUpdte = () => {\n        Axios.get(API_URL + \"/drug/drugsInPharmacy/\" + localStorage.getItem(\"keyPharmacyId\"), {\n\t\t\theaders: { Authorization: GetAuthorisation() },\n\t\t})\n\n\t\t\t.then((res) => {\n\t\t\t\tconsole.log(res.data);\n\t\t\t\tthis.setState({ drugs: res.data });\n\t\t\t})\n\t\t\t.catch((err) => {\n\t\t\t\tconsole.log(err);\n\t\t\t});\n\n    }\n\n    onAddClick = (id) =>{\n        this.setState({page : 2,drugForAdd:id});\n  \n\n    }\n\n \n\n     handleBack = (event) =>{\n        this.setState({page: 1,selectedCount:''});\n    \n\n    }\n\n\n\n    render() { \n      \n\n        return ( \n            <Modal\n                show = {this.props.show}\n                size='lg'\n                centered\n                >\n                <Modal.Header >\n                    <Modal.Title style={{marginLeft:'37%'}} >\n                        Create Order\n                    </Modal.Title>\n                </Modal.Header>\n                <Modal.Body>\n           \n                <div className=\"container\">  \n\n                    <table hidden={this.state.page!== 1}  style={{width:'100%'}} className=\"table\">\n                                \n                                {this.state.drugs.map((drug) => (\n                                \n                                <tr id={drug.Id} key={drug.Id}>\n                                <td width=\"130em\">\n                                    <img className=\"img-fluid\" src={MedicamentPicture} width=\"70em\"/>\n                                </td>\n                                <td>\t<div>\n\t\t\t\t\t\t\t\t\t\t\t\t<b>Drug Name:</b> {drug.EntityDTO.name}\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t\t<b>Name:</b> {drug.EntityDTO.fabricCode}\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t\t<b>Manufacturer:</b> {drug.EntityDTO.producerName}\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t\t<b>Quantity:</b> {drug.EntityDTO.quantity} <b> mg</b>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n                                </td>\n                                <td >\n                                    <div>\n                                        <button style={{height:'30px'},{verticalAlign:'center'}} className=\"btn btn-primary btn-xl mt-2\" onClick={() => this.onAddClick(drug)} type=\"button\"><i className=\"icofont-subscribe mr-1\"></i>Add</button>\n                                    </div>\n                                </td>\n                            </tr>\n                            ))}\n                </table> \n                <div className=\"container\" style={{ marginTop: \"5%\"}} hidden={this.state.page!== 1}> \n                <h5>Selected drugs</h5>\n                    <table hidden={this.state.page!== 1} className=\"table\" style={{ width: \"100%\", marginTop: \"2rem\" }}>\n                    \n                        <tbody>\n                            {this.state.drugsToAdd.map((drug) => (\n                                <tr id={drug.Id} key={drug.Id}>\n                                    <td width=\"130em\">\n                                        <img className=\"img-fluid\" src={MedicamentPicture} width=\"70em\"/>\n                                    </td>\n                                    <td>\n                                            <div><b>Drug:</b> {drug.drugName}</div>\n                                            <div><b>Name:</b> {drug.fabricCode}</div>\n                                            <div><b>Manufacturer:</b> {drug.producerName}</div>\n                                            <div><b>Amount:</b> {drug.amount}</div>\n                                    </td>\n                                    <td >\n                                        <div>\n                                            <button style={{height:'30px'},{verticalAlign:'center'}} className=\"btn btn-outline-primary mt-2\" onClick={() => this.handleRemove(drug)} type=\"button\">Remove</button>\n                                        </div>\n                                    </td>\n                                </tr>\n                            ))}\n                        </tbody>\n                    </table>\n                    </div>\n                    <div hidden={this.state.page!==2}>\n                                <form >\n                                    <div  className=\"control-group\" >\n                                        <div className=\"form-row\">\n                                            <button  onClick = {() => this.handleBack()} className=\"btn btn-link btn-xl\" type=\"button\">\n                                                Back\n                                            </button>                   \n                                        </div>\n                                        <table style={{width:'100%'},{marginLeft:'32%'}}>\n                                            <tr>\n                                                <td>\n                                                    <label>Amount of drug:</label>\n                                                </td>\n                                                <td>\n                                                    <input  className=\"form-control\" style={{width: \"12em\"}} type=\"number\" min=\"1\" onChange={this.handleSelectedCountChange} value={this.state.selectedCount} />\n                                                </td>\n                                            </tr>\n                                        </table>\n                                        <div  className=\"form-group text-center\">\n                                            <Button className=\"mt-3\"  onClick = {() => this.handleAdd()} >Add drug to order list</Button>\n                                        </div>\n                                    </div>\n                                </form>\n                    </div>\n                    <div hidden={this.state.page!==3}>\n                                <form >\n                                    <div  className=\"control-group\" >\n                                        <div className=\"form-row\">\n                                            <button  onClick = {() => this.handleBack()} className=\"btn btn-link btn-xl\" type=\"button\">\n                                              \n                                                Back\n                                            </button>                   \n                                        </div>\n                                        <table style={{width:'100%'},{marginLeft:'32%'}}>\n                                            <tr>\n                                                <td>\n                                                    <label>Date:</label>\n                                                </td>\n                                                <td>\n                                                    <DatePicker  className=\"form-control\" style={{width: \"15em\"}}  minDate={new Date()} onChange={date => this.handleSelectedDateChange(date)} selected={this.state.selectedDate}/>\n                                                </td>\n                                            </tr>\n                                        </table>\n                                        <div  className=\"form-group text-center\">\n                                            <Button className=\"mt-3\"  onClick = {() => this.handleCreateOrder()} >Create order</Button>\n                                        </div>\n                                    </div>\n                                </form>\n                    </div>\n                </div>\n                </Modal.Body>\n                <Modal.Footer>\n                    <Button  hidden={this.state.page===3} onClick={() => this.handleClickOnCreateOrder()}>Create order</Button>\n                    <Button onClick={() => this.handleClickOnClose()}>Close</Button>\n                </Modal.Footer>\n            </Modal>\n         );\n    }\n}\n \nexport default AddOrderModal;"]},"metadata":{},"sourceType":"module"}