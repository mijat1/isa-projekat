{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\amijatovic\\\\Desktop\\\\isa\\\\ISA-projekat-main\\\\ISA-front\\\\src\\\\Components\\\\Pharmacies\\\\PharmacistsForPhAdmin.js\";\nimport React, { Component } from \"react\";\nimport { Button, Modal } from \"react-bootstrap\";\nimport Header from '../Header';\nimport Axios from \"axios\";\nimport GetAuthorisation from \"../../Funciton/GetAuthorisation\";\nimport CardList from \"../card-components/CardList\";\nimport AddDermatologistModal from \"../Modal/AddDermatologistModal\";\nimport PharmacistCardList from \"../card-components/PharmacistCardList\";\nimport AddPharmacistModal from \"../Modal/AddPharmacistModal\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_URL = \"http://localhost:8080\";\n\nclass PharmacistsForPhAdmin extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      pharmacists: [],\n      pharmacists1: [],\n      searchName: '',\n      searchSurname: '',\n      searchGradeFrom: '',\n      searchGradeTo: '',\n      workTimes: [],\n      showSearchForm: false,\n      showAddPharmacist: false\n    };\n\n    this.handleCloseAlertSuccess = () => {\n      this.setState({\n        hiddenSuccessAlert: true\n      });\n    };\n\n    this.handleCloseAlertFail = () => {\n      this.setState({\n        hiddenFailAlert: true\n      });\n    };\n\n    this.handleModalClose = () => {\n      this.setState({\n        showWorkTimesModal: false\n      });\n    };\n\n    this.handleFormShow = () => {\n      this.setState({\n        showSearchForm: !this.state.showSearchForm\n      });\n    };\n\n    this.handleOpenAddPharmacistModal = () => {\n      this.setState({\n        showAddPharmacist: true\n      });\n    };\n\n    this.handleAddPharmacistClose = () => {\n      Axios.get(API_URL + \"/users/pharmacistsInPharmacy/\" + localStorage.getItem(\"keyPharmacyId\"), {\n        headers: {\n          Authorization: GetAuthorisation()\n        }\n      }).then(res => {\n        this.setState({\n          pharmacists: res.data\n        });\n        console.log(res.data);\n      }).catch(err => {\n        console.log(err);\n      });\n      this.setState({\n        showAddPharmacist: false\n      });\n    };\n\n    this.handleUpdatePharmacists = () => {\n      Axios.get(API_URL + \"/users/pharmacistsSearch/\" + localStorage.getItem(\"keyPharmacyId\"), {\n        headers: {\n          Authorization: GetAuthorisation()\n        }\n      }).then(res => {\n        this.setState({\n          pharmacists: res.data\n        });\n        console.log(res.data);\n      }).catch(err => {\n        console.log(err);\n      });\n    };\n\n    this.handleNameChange = event => {\n      this.setState({\n        searchName: event.target.value\n      });\n    };\n\n    this.handleSurnameChange = event => {\n      this.setState({\n        searchSurname: event.target.value\n      });\n    };\n\n    this.handleGradeFromChange = event => {\n      this.setState({\n        searchGradeFrom: event.target.value\n      });\n    };\n\n    this.handleGradeToChange = event => {\n      this.setState({\n        searchGradeTo: event.target.value\n      });\n    };\n\n    this.handleSortByGradeAscending = () => {};\n\n    this.handleSortByGradeDescending = () => {};\n\n    this.handleSearch = () => {\n      if (!(this.state.searchGradeFrom === \"\" && this.state.searchGradeTo === \"\" && this.state.searchName === \"\" && this.state.searchSurname === \"\")) {\n        let name = this.state.searchName;\n        let surname = this.state.searchSurname;\n        let gradeFrom = this.state.searchGradeFrom;\n        let gradeTo = this.state.searchGradeTo;\n        if (gradeFrom === \"\") gradeFrom = -1;\n        if (gradeTo === \"\") gradeTo = -1;\n        if (name === \"\") name = '';\n        if (surname === \"\") surname = '';\n        console.log(name);\n        console.log(surname);\n        console.log(gradeFrom);\n        console.log(gradeTo);\n        Axios.get(API_URL + \"/users/pharmacistsSearch\", {\n          params: {\n            name: name,\n            surname: surname,\n            gradeFrom: gradeFrom,\n            gradeTo: gradeTo,\n            pharmacyId: localStorage.getItem(\"keyPharmacyId\")\n          },\n          validateStatus: () => true,\n          headers: {\n            Authorization: GetAuthorisation()\n          }\n        }).then(res => {\n          this.setState({\n            pharmacists: res.data,\n            formShowed: false,\n            showingSearched: true\n          });\n          console.log(res.data);\n        }).catch(err => {\n          console.log(err);\n        });\n      }\n    };\n\n    this.handleResetSearch = () => {\n      Axios.get(API_URL + \"/users/pharmacistsInPharmacy/\" + localStorage.getItem(\"keyPharmacyId\"), {\n        headers: {\n          Authorization: GetAuthorisation()\n        }\n      }).then(res => {\n        this.setState({\n          pharmacists: res.data,\n          formShowed: false,\n          showingSearched: false,\n          searchName: \"\",\n          searchSurname: \"\",\n          searchGradeFrom: \"\",\n          searchGradeTo: \"\"\n        });\n        console.log(res.data);\n      }).catch(err => {\n        console.log(err);\n      });\n    };\n  }\n\n  componentDidMount() {\n    let pharmacyId = localStorage.getItem(\"keyPharmacyId\");\n    this.setState({\n      pharmacyId: pharmacyId\n    });\n    Axios.get(API_URL + \"/users/pharmacistsInPharmacy/\" + localStorage.getItem(\"keyPharmacyId\"), {\n      headers: {\n        Authorization: GetAuthorisation()\n      }\n    }).then(res => {\n      this.setState({\n        pharmacists: res.data\n      });\n      console.log(res.data);\n    }).catch(err => {\n      console.log(err);\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(React.Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        style: {\n          marginTop: \"5%\",\n          marginBottom: \"5%\",\n          marginLeft: \"6%\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-primary \",\n          type: \"button\",\n          onClick: this.handleFormShow,\n          children: this.state.showSearchForm ? \"Close search\" : \"Open search\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          hidden: !this.state.showSearchForm,\n          type: \"button\",\n          class: \"btn btn-outline-primary btn-xl ml-2\",\n          onClick: this.handleResetSearch,\n          children: \"Reset search\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 216,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          class: \"btn btn-primary btn-xl ml-2\",\n          onClick: this.handleOpenAddPharmacistModal,\n          children: \"Add pharmacist\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          className: \"form-inline mt-3\",\n          hidden: !this.state.showSearchForm,\n          width: \"100%\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            width: \"100%\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              placeholder: \"Name\",\n              className: \"form-control mr-2\",\n              style: {\n                width: \"10em\"\n              },\n              type: \"text\",\n              onChange: this.handleNameChange,\n              value: this.state.searchName\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 233,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              placeholder: \"LastName\",\n              className: \"form-control mr-2\",\n              style: {\n                width: \"10em\"\n              },\n              type: \"text\",\n              onChange: this.handleSurnameChange,\n              value: this.state.searchSurname\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 242,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              placeholder: \"Grade from\",\n              className: \"form-control mr-2\",\n              style: {\n                width: \"10em\"\n              },\n              type: \"number\",\n              min: \"1\",\n              max: \"5\",\n              onChange: this.handleGradeFromChange,\n              value: this.state.searchGradeFrom\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 251,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              placeholder: \"Grade to\",\n              className: \"form-control\",\n              style: {\n                width: \"10em\"\n              },\n              type: \"number\",\n              min: \"1\",\n              max: \"5\",\n              onChange: this.handleGradeToChange,\n              value: this.state.searchGradeTo\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 261,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: this.handleSearch,\n              className: \"btn btn-outline-primary btn-xl ml-2\",\n              type: \"button\",\n              children: \"Search\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 272,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 230,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 228,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        children: [/*#__PURE__*/_jsxDEV(PharmacistCardList, {\n          pharmacists: this.state.pharmacists,\n          pharmacyId: this.state.pharmacyId,\n          updatePharmacists: this.handleUpdatePharmacists\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 289,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(AddPharmacistModal, {\n          show: this.state.showAddPharmacist,\n          onCloseModal: this.handleAddPharmacistClose,\n          pharmacyId: this.state.pharmacyId,\n          updatePharmacists: this.handleUpdatePharmacists\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 290,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 288,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default PharmacistsForPhAdmin;","map":{"version":3,"sources":["C:/Users/amijatovic/Desktop/isa/ISA-projekat-main/ISA-front/src/Components/Pharmacies/PharmacistsForPhAdmin.js"],"names":["React","Component","Button","Modal","Header","Axios","GetAuthorisation","CardList","AddDermatologistModal","PharmacistCardList","AddPharmacistModal","API_URL","PharmacistsForPhAdmin","state","pharmacists","pharmacists1","searchName","searchSurname","searchGradeFrom","searchGradeTo","workTimes","showSearchForm","showAddPharmacist","handleCloseAlertSuccess","setState","hiddenSuccessAlert","handleCloseAlertFail","hiddenFailAlert","handleModalClose","showWorkTimesModal","handleFormShow","handleOpenAddPharmacistModal","handleAddPharmacistClose","get","localStorage","getItem","headers","Authorization","then","res","data","console","log","catch","err","handleUpdatePharmacists","handleNameChange","event","target","value","handleSurnameChange","handleGradeFromChange","handleGradeToChange","handleSortByGradeAscending","handleSortByGradeDescending","handleSearch","name","surname","gradeFrom","gradeTo","params","pharmacyId","validateStatus","formShowed","showingSearched","handleResetSearch","componentDidMount","render","marginTop","marginBottom","marginLeft","width"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { Button, Modal } from \"react-bootstrap\";\nimport Header from '../Header';\nimport Axios from \"axios\";\nimport GetAuthorisation from \"../../Funciton/GetAuthorisation\";\nimport CardList from \"../card-components/CardList\";\nimport AddDermatologistModal from \"../Modal/AddDermatologistModal\";\nimport PharmacistCardList from \"../card-components/PharmacistCardList\";\nimport AddPharmacistModal from \"../Modal/AddPharmacistModal\";\nconst API_URL = \"http://localhost:8080\";\n\n\nclass PharmacistsForPhAdmin extends Component {\n    state = {\n        pharmacists: [],\n        pharmacists1: [],\n\n        searchName:'',\n        searchSurname:'',\n        searchGradeFrom:'',\n        searchGradeTo:'',\n        workTimes: [],\n \n        showSearchForm: false,\n        showAddPharmacist: false\n    };\n\n    handleCloseAlertSuccess = () => {\n        this.setState({ hiddenSuccessAlert: true });\n    };\n\n    handleCloseAlertFail = () => {\n        this.setState({ hiddenFailAlert: true });\n    };\n\n\n    componentDidMount() {\n\n        let pharmacyId = localStorage.getItem(\"keyPharmacyId\")\n        this.setState({\n            pharmacyId: pharmacyId\n        })\n\n        Axios.get(API_URL + \"/users/pharmacistsInPharmacy/\" + localStorage.getItem(\"keyPharmacyId\"), {\n            headers: { Authorization: GetAuthorisation() },\n        })\n            .then((res) => {\n                this.setState({ pharmacists: res.data });\n                console.log(res.data);\n\n            })\n            .catch((err) => {\n                console.log(err);\n            });\n    }\n\n    handleModalClose = () => {\n        this.setState({ showWorkTimesModal: false });\n    }\n\n   \n\n\n    handleFormShow = () => {\n        this.setState({ showSearchForm: !this.state.showSearchForm });\n    };\n\n    handleOpenAddPharmacistModal = () => {\n        this.setState({ showAddPharmacist: true });\n    }\n\n    handleAddPharmacistClose = () => {\n        Axios.get(API_URL + \"/users/pharmacistsInPharmacy/\" + localStorage.getItem(\"keyPharmacyId\"), {\n            headers: { Authorization: GetAuthorisation() },\n        })\n            .then((res) => {\n                this.setState({ pharmacists: res.data });\n                console.log(res.data);\n\n            })\n            .catch((err) => {\n                console.log(err);\n            });\n        this.setState({ showAddPharmacist: false });\n    }\n\n    handleUpdatePharmacists = () => {\n        Axios.get(API_URL + \"/users/pharmacistsSearch/\" + localStorage.getItem(\"keyPharmacyId\"), {\n            headers: { Authorization: GetAuthorisation() },\n        })\n            .then((res) => {\n                this.setState({ pharmacists: res.data });\n                console.log(res.data);\n\n            })\n            .catch((err) => {\n                console.log(err);\n            });\n    }\n\n    handleNameChange = (event) => {\n\t\tthis.setState({ searchName: event.target.value });\n    };\n    \n    handleSurnameChange = (event) => {\n\t\tthis.setState({ searchSurname: event.target.value });\n    };\n    \n    handleGradeFromChange = (event) => {\n\t\tthis.setState({ searchGradeFrom: event.target.value });\n\t};\n\n\thandleGradeToChange = (event) => {\n\t\tthis.setState({ searchGradeTo: event.target.value });\n    };\n\n    handleSortByGradeAscending = () =>{\n\n    }\n\n    handleSortByGradeDescending = () =>{\n\n    }\n    \n    handleSearch = () =>{\n    \n\t\t\tif (\n\t\t\t\t!(\n\t\t\t\t\tthis.state.searchGradeFrom === \"\" &&\n\t\t\t\t\tthis.state.searchGradeTo === \"\" &&\n\t\t\t\t\tthis.state.searchName === \"\" &&\n\t\t\t\t\tthis.state.searchSurname === \"\"\n\t\t\t\t)\n\t\t\t) {\n                let name = this.state.searchName;\n\t\t\t\tlet surname = this.state.searchSurname;\n\t\t\t\tlet gradeFrom = this.state.searchGradeFrom;\n\t\t\t\tlet gradeTo = this.state.searchGradeTo;\n\t\t\t\t\n\n\t\t\t\tif (gradeFrom === \"\") gradeFrom = -1;\n\t\t\t\tif (gradeTo === \"\") gradeTo = -1;\n\t\t\t\tif (name === \"\") name = '';\n\t\t\t\tif (surname === \"\") surname = '';\n\n                console.log(name);\n                console.log(surname);\n                console.log(gradeFrom);\n                console.log(gradeTo);\n\t\t\t\tAxios.get(API_URL + \"/users/pharmacistsSearch\", {\n                    params: {\n                        name: name,\n                        surname: surname,\n                        gradeFrom: gradeFrom,\n                        gradeTo: gradeTo,\n                        pharmacyId: localStorage.getItem(\"keyPharmacyId\")\n                    },\n                    validateStatus: () => true,\n                    headers: { Authorization: GetAuthorisation() },\n                })\n\t\t\t\t\t.then((res) => {\n\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\tpharmacists: res.data,\n\t\t\t\t\t\t\tformShowed: false,\n\t\t\t\t\t\t\tshowingSearched: true,\n\t\t\t\t\t\t});\n\t\t\t\t\t\tconsole.log(res.data);\n\t\t\t\t\t})\n\t\t\t\t\t.catch((err) => {\n\t\t\t\t\t\tconsole.log(err);\n\t\t\t\t\t});\n\t\t\t}\n        }   \n    \n\n     handleResetSearch = () => {\n\n        Axios.get(API_URL + \"/users/pharmacistsInPharmacy/\" + localStorage.getItem(\"keyPharmacyId\"), {\n            headers: { Authorization: GetAuthorisation() },\n        })\n\t\t\t.then((res) => {\n\t\t\t\tthis.setState({ \n                    pharmacists: res.data ,\n                    formShowed: false,\n\t\t\t\t\tshowingSearched: false,\n\t\t\t\t\tsearchName: \"\",\n                    searchSurname: \"\",\n                    searchGradeFrom: \"\",\n\t\t\t\t\tsearchGradeTo: \"\",\n\n                });\n                console.log(res.data);\n            \n\t\t\t})\n\t\t\t.catch((err) => {\n\t\t\t\tconsole.log(err);\n            });\n        \n\t\n    };\n    render() {\n  \n        return (\n            <React.Fragment>\n\n\n\n                <Header />\n                <div className=\"container\" style={{ marginTop: \"5%\", marginBottom: \"5%\", marginLeft: \"6%\" }} >\n\n\n                    <button className=\"btn btn-primary \" type=\"button\" onClick={this.handleFormShow}>\n                        {this.state.showSearchForm ? \"Close search\" : \"Open search\"}\n                    </button>\n\n                    <button hidden={!this.state.showSearchForm} type=\"button\" class=\"btn btn-outline-primary btn-xl ml-2\" onClick={this.handleResetSearch}>\n\n                        Reset search\n\n                    </button>\n\n                    <button type=\"button\" class=\"btn btn-primary btn-xl ml-2\" onClick={this.handleOpenAddPharmacistModal}>\n\n                        Add pharmacist\n\n                    </button>\n\n                    <form className={\"form-inline mt-3\"} hidden={!this.state.showSearchForm} width=\"100%\">\n\n                        <div className=\"form-group\" width=\"100%\">\n\n                      \n                                <input\n                                    placeholder=\"Name\"\n                                    className=\"form-control mr-2\"\n                                    style={{ width: \"10em\" }}\n                                    type=\"text\"\n                                    onChange={this.handleNameChange}\n                                    value={this.state.searchName}\n                                />\n\n                                <input\n                                    placeholder=\"LastName\"\n                                    className=\"form-control mr-2\"\n                                    style={{ width: \"10em\" }}\n                                    type=\"text\"\n                                    onChange={this.handleSurnameChange}\n                                    value={this.state.searchSurname}\n                                />\n\n                                <input\n                                    placeholder=\"Grade from\"\n                                    className=\"form-control mr-2\"\n                                    style={{ width: \"10em\" }}\n                                    type=\"number\"\n                                    min=\"1\"\n                                    max=\"5\"\n                                    onChange={this.handleGradeFromChange}\n                                    value={this.state.searchGradeFrom}\n                                />\n                                <input\n                                    placeholder=\"Grade to\"\n                                    className=\"form-control\"\n                                    style={{ width: \"10em\" }}\n                                    type=\"number\"\n                                    min=\"1\"\n                                    max=\"5\"\n                                    onChange={this.handleGradeToChange}\n                                    value={this.state.searchGradeTo}\n                                />\n\n                            <button\n                                onClick={this.handleSearch}\n                                className=\"btn btn-outline-primary btn-xl ml-2\"\n                                type=\"button\"\n\n                            >\n                                Search\n                            </button>\n                       \n                        </div>\n\n\n\n                    </form>\n\n                </div>\n                <div className=\"container\">\n                    <PharmacistCardList pharmacists={this.state.pharmacists} pharmacyId={this.state.pharmacyId} updatePharmacists={this.handleUpdatePharmacists} />\n                    <AddPharmacistModal show={this.state.showAddPharmacist} onCloseModal={this.handleAddPharmacistClose} pharmacyId={this.state.pharmacyId} updatePharmacists={this.handleUpdatePharmacists}/>\n                </div>\n\n\n            </React.Fragment>\n        );\n    }\n}\n\nexport default PharmacistsForPhAdmin"]},"metadata":{},"sourceType":"module"}