[{"E:\\aca\\isa\\nova-isa-projekat\\isa2021\\isa-projekat\\ISA-front\\src\\index.js":"1","E:\\aca\\isa\\nova-isa-projekat\\isa2021\\isa-projekat\\ISA-front\\src\\reportWebVitals.js":"2","E:\\aca\\isa\\nova-isa-projekat\\isa2021\\isa-projekat\\ISA-front\\src\\App.js":"3","E:\\aca\\isa\\nova-isa-projekat\\isa2021\\isa-projekat\\ISA-front\\src\\Pages\\RegistrationPage.js":"4","E:\\aca\\isa\\nova-isa-projekat\\isa2021\\isa-projekat\\ISA-front\\src\\Pages\\ActivationPage.js":"5","E:\\aca\\isa\\nova-isa-projekat\\isa2021\\isa-projekat\\ISA-front\\src\\Pages\\HomePage.js":"6","E:\\aca\\isa\\nova-isa-projekat\\isa2021\\isa-projekat\\ISA-front\\src\\Pages\\LoginPage.js":"7","E:\\aca\\isa\\nova-isa-projekat\\isa2021\\isa-projekat\\ISA-front\\src\\Components\\Header.js":"8","E:\\aca\\isa\\nova-isa-projekat\\isa2021\\isa-projekat\\ISA-front\\src\\Funciton\\GetAuthorisation.js":"9","E:\\aca\\isa\\nova-isa-projekat\\isa2021\\isa-projekat\\ISA-front\\src\\Components\\Modal\\ModalDialog.js":"10","E:\\aca\\isa\\nova-isa-projekat\\isa2021\\isa-projekat\\ISA-front\\src\\Pages\\Boats\\BoatsPage.js":"11","E:\\aca\\isa\\nova-isa-projekat\\isa2021\\isa-projekat\\ISA-front\\src\\Components\\Modal\\PriceModal.js":"12","E:\\aca\\isa\\nova-isa-projekat\\isa2021\\isa-projekat\\ISA-front\\src\\Pages\\Cottages\\CottagesPage.js":"13","E:\\aca\\isa\\nova-isa-projekat\\isa2021\\isa-projekat\\ISA-front\\src\\Pages\\UserProfile.js":"14","E:\\aca\\isa\\nova-isa-projekat\\isa2021\\isa-projekat\\ISA-front\\src\\Components\\Modal\\ChangePasswordModal.js":"15","E:\\aca\\isa\\nova-isa-projekat\\isa2021\\isa-projekat\\ISA-front\\src\\Components\\Alerts\\UnsuccessfulAlert.js":"16","E:\\aca\\isa\\nova-isa-projekat\\isa2021\\isa-projekat\\ISA-front\\src\\Components\\Alerts\\SuccessfulAlert.js":"17","E:\\aca\\isa\\nova-isa-projekat\\isa2021\\isa-projekat\\ISA-front\\src\\Pages\\Courses\\CoursesPage.js":"18","E:\\aca\\isa\\nova-isa-projekat\\isa2021\\isa-projekat\\ISA-front\\src\\Components\\Modal\\Services.js":"19","E:\\aca\\isa\\nova-isa-projekat\\isa2021\\isa-projekat\\ISA-front\\src\\Pages\\Boats\\BoatFutureReservationsPage.js":"20","E:\\aca\\isa\\nova-isa-projekat\\isa2021\\isa-projekat\\ISA-front\\src\\Pages\\Boats\\BoatHistoryReservationsPage.js":"21","E:\\aca\\isa\\nova-isa-projekat\\isa2021\\isa-projekat\\ISA-front\\src\\Components\\Modal\\ComplaintModal.js":"22","E:\\aca\\isa\\nova-isa-projekat\\isa2021\\isa-projekat\\ISA-front\\src\\Pages\\ComplaintUserPage.js":"23","E:\\aca\\isa\\nova-isa-projekat\\isa2021\\isa-projekat\\ISA-front\\src\\Pages\\ComplaintUnitPage.js":"24","E:\\aca\\isa\\nova-isa-projekat\\isa2021\\isa-projekat\\ISA-front\\src\\Components\\Modal\\ReplyModal.js":"25","E:\\aca\\isa\\nova-isa-projekat\\isa2021\\isa-projekat\\ISA-front\\src\\Components\\Modal\\CancelModal.js":"26","E:\\aca\\isa\\nova-isa-projekat\\isa2021\\isa-projekat\\ISA-front\\src\\Pages\\Boats\\ActionReservationPageBoat.js":"27","E:\\aca\\isa\\nova-isa-projekat\\isa2021\\isa-projekat\\ISA-front\\src\\Pages\\Cottages\\CottageFutureReservationsPage.js":"28","E:\\aca\\isa\\nova-isa-projekat\\isa2021\\isa-projekat\\ISA-front\\src\\Pages\\Cottages\\CottageHistoryReservationsPage.js":"29"},{"size":708,"mtime":1638044042347,"results":"30","hashOfConfig":"31"},{"size":362,"mtime":1630707367000,"results":"32","hashOfConfig":"31"},{"size":2651,"mtime":1642794338730,"results":"33","hashOfConfig":"31"},{"size":8123,"mtime":1638033267663,"results":"34","hashOfConfig":"31"},{"size":1335,"mtime":1638043048939,"results":"35","hashOfConfig":"31"},{"size":1569,"mtime":1638042967276,"results":"36","hashOfConfig":"31"},{"size":4618,"mtime":1638042994685,"results":"37","hashOfConfig":"31"},{"size":4430,"mtime":1642793324125,"results":"38","hashOfConfig":"31"},{"size":308,"mtime":1630707367000,"results":"39","hashOfConfig":"31"},{"size":886,"mtime":1638039016976,"results":"40","hashOfConfig":"31"},{"size":25096,"mtime":1642795911510,"results":"41","hashOfConfig":"31"},{"size":1555,"mtime":1638310026605,"results":"42","hashOfConfig":"31"},{"size":25251,"mtime":1642795923046,"results":"43","hashOfConfig":"31"},{"size":16549,"mtime":1641767816984,"results":"44","hashOfConfig":"31"},{"size":3479,"mtime":1641749355286,"results":"45","hashOfConfig":"31"},{"size":540,"mtime":1641688396648,"results":"46","hashOfConfig":"31"},{"size":537,"mtime":1641688378654,"results":"47","hashOfConfig":"31"},{"size":6445,"mtime":1641949584055,"results":"48","hashOfConfig":"31"},{"size":5809,"mtime":1642795882596,"results":"49","hashOfConfig":"31"},{"size":8075,"mtime":1642777255493,"results":"50","hashOfConfig":"31"},{"size":13234,"mtime":1642773135637,"results":"51","hashOfConfig":"31"},{"size":1048,"mtime":1642772800194,"results":"52","hashOfConfig":"31"},{"size":6042,"mtime":1642767184938,"results":"53","hashOfConfig":"31"},{"size":5831,"mtime":1642765878864,"results":"54","hashOfConfig":"31"},{"size":1279,"mtime":1642772778208,"results":"55","hashOfConfig":"31"},{"size":1162,"mtime":1642772754662,"results":"56","hashOfConfig":"31"},{"size":6909,"mtime":1642776670903,"results":"57","hashOfConfig":"31"},{"size":8089,"mtime":1642796599471,"results":"58","hashOfConfig":"31"},{"size":13268,"mtime":1642795395580,"results":"59","hashOfConfig":"31"},{"filePath":"60","messages":"61","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"62","usedDeprecatedRules":"63"},"s7aimx",{"filePath":"64","messages":"65","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"63"},{"filePath":"66","messages":"67","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"68","messages":"69","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"63"},{"filePath":"70","messages":"71","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"63"},{"filePath":"72","messages":"73","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"74","usedDeprecatedRules":"63"},{"filePath":"75","messages":"76","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"63"},{"filePath":"77","messages":"78","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"79","messages":"80","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"63"},{"filePath":"81","messages":"82","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"63"},{"filePath":"83","messages":"84","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"85","messages":"86","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"87","usedDeprecatedRules":"63"},{"filePath":"88","messages":"89","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"90","messages":"91","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"92","usedDeprecatedRules":"63"},{"filePath":"93","messages":"94","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"95","usedDeprecatedRules":"63"},{"filePath":"96","messages":"97","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"63"},{"filePath":"98","messages":"99","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"63"},{"filePath":"100","messages":"101","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"102","usedDeprecatedRules":"63"},{"filePath":"103","messages":"104","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"105","messages":"106","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"107","usedDeprecatedRules":"63"},{"filePath":"108","messages":"109","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"110","usedDeprecatedRules":"63"},{"filePath":"111","messages":"112","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"63"},{"filePath":"113","messages":"114","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"115","usedDeprecatedRules":"63"},{"filePath":"116","messages":"117","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"118","usedDeprecatedRules":"63"},{"filePath":"119","messages":"120","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"63"},{"filePath":"121","messages":"122","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"63"},{"filePath":"123","messages":"124","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"125","usedDeprecatedRules":"63"},{"filePath":"126","messages":"127","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"128","messages":"129","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"E:\\aca\\isa\\nova-isa-projekat\\isa2021\\isa-projekat\\ISA-front\\src\\index.js",["130","131"],"import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport 'bootstrap';\nimport 'bootstrap/dist/css/bootstrap.css';\nimport 'bootstrap/dist/js/bootstrap.js';\nimport $ from 'jquery';\nimport Popper from 'popper.js';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n",["132","133"],"E:\\aca\\isa\\nova-isa-projekat\\isa2021\\isa-projekat\\ISA-front\\src\\reportWebVitals.js",[],"E:\\aca\\isa\\nova-isa-projekat\\isa2021\\isa-projekat\\ISA-front\\src\\App.js",["134"],"E:\\aca\\isa\\nova-isa-projekat\\isa2021\\isa-projekat\\ISA-front\\src\\Pages\\RegistrationPage.js",[],"E:\\aca\\isa\\nova-isa-projekat\\isa2021\\isa-projekat\\ISA-front\\src\\Pages\\ActivationPage.js",[],"E:\\aca\\isa\\nova-isa-projekat\\isa2021\\isa-projekat\\ISA-front\\src\\Pages\\HomePage.js",["135","136","137"],"import React from 'react';\nimport * as ReactBootStrap from \"react-bootstrap\";\nimport Header from '../Components/Header';\n\nimport { Link } from \"react-router-dom\";\nimport GetAuthorisation from \"../Funciton/GetAuthorisation\"\nimport Axios from \"axios\";\n\n\n\nclass HomePage extends React.Component {\n\n\n\n  componentDidMount(){\n\n  }\n\n\n\n      hasSpecificRole = (reqRole) => {\n      let roles = JSON.parse(localStorage.getItem(\"keyRole\"));\n\n      if (roles === null) return false;\n\n      for (let role of roles) {\n        if (role === reqRole) return true;\n      }\n      return false;\n      };\n\n      hasAnyRole = (reqRole) => {\n        let roles = JSON.parse(localStorage.getItem(\"keyRole\"));\n  \n        if (roles === null) return false;\n\n        return true;\n        };\n\n    \n\n\n\n    \n    render() {\n      console.log(`Bearer ${localStorage.getItem(\"keyToken\")}`);\n      console.log(`Rola ${localStorage.getItem(\"keyRole\")}`);\n    return (\n      \n      <React.Fragment>\n     \n          <Header/>\n          <div >\n          <section id=\"homePageSection\" className=\"d-flex \">\n\t\t\t\t\t<div className=\"container\" style={{textAlign: \"center\"}}>\n\t\t\t\t\t\t<h1>Dobrodošli </h1>\n\n            <Link  to=\"/login\" hidden={this.hasAnyRole()} className=\"btn-Login-Register\">\n\t\t\t\t\t\t\tPrijava\n\t\t\t\t\t\t</Link>\n\n\t\t\t\t\t\t<Link  to=\"/registration\" hidden={this.hasAnyRole()} className=\"btn-Login-Register\">\n\t\t\t\t\t\t\tRegistracija\n\t\t\t\t\t\t</Link>\n      \n\t\t\t\t\t</div>\n\t\t\t\t\n\t\t\t\t  </section>\n\n             \n        \n          </div>\n          \n       \n      </React.Fragment>\n    );\n  }\n}\n  \n  export default HomePage;","E:\\aca\\isa\\nova-isa-projekat\\isa2021\\isa-projekat\\ISA-front\\src\\Pages\\LoginPage.js",[],"E:\\aca\\isa\\nova-isa-projekat\\isa2021\\isa-projekat\\ISA-front\\src\\Components\\Header.js",["138"],"E:\\aca\\isa\\nova-isa-projekat\\isa2021\\isa-projekat\\ISA-front\\src\\Funciton\\GetAuthorisation.js",[],"E:\\aca\\isa\\nova-isa-projekat\\isa2021\\isa-projekat\\ISA-front\\src\\Components\\Modal\\ModalDialog.js",[],"E:\\aca\\isa\\nova-isa-projekat\\isa2021\\isa-projekat\\ISA-front\\src\\Pages\\Boats\\BoatsPage.js",["139","140","141","142"],"E:\\aca\\isa\\nova-isa-projekat\\isa2021\\isa-projekat\\ISA-front\\src\\Components\\Modal\\PriceModal.js",["143","144","145","146","147","148"],"import React, { Component } from \"react\";\r\nimport { Button, CloseButton, Modal } from \"react-bootstrap\";\r\nimport Axios from \"axios\";\r\nimport GetAuthorisation from \"../../Funciton/GetAuthorisation\";\r\n\r\nimport { Redirect } from \"react-router-dom\";\r\nimport { confirmAlert } from 'react-confirm-alert';\r\n\r\nconst API_URL=\"http://localhost:8080\";\r\n\r\nclass PriceModal extends Component {\r\n\tstate = {\r\n\t\tmodalSize: \"lg\",\r\n\t\r\n    \r\n\t};\r\n\r\n   \r\n\r\n\thandleClickOnClose = () => {\r\n\t\tthis.setState({\r\n\t\t\tmodalSize: \"lg\",\r\n\t\t});\r\n\t\tthis.props.onCloseModal();\r\n\t};\r\n\r\n\r\n\r\n\r\n\trender() {\r\n        \r\n\t\treturn (\r\n\t\t\t<Modal\r\n\t\t\t\tshow={this.props.show}\r\n\t\t\t\tsize={this.state.modalSize}\r\n\t\t\t\tcentered\r\n                \r\n\t\t\t>\r\n\t\t\t\t<Modal.Header>\r\n\t\t\t\t\t<Modal.Title style={{ marginLeft: \"38%\" }} >\r\n\t\t\t\t\t\t{this.props.header}\r\n\t\t\t\t\t</Modal.Title>\r\n\t\t\t\t</Modal.Header>\r\n\t\t\t\t<Modal.Body>\r\n\t\t\t\r\n               \r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\r\n\r\n\t\t\t\t\t\t<table border=\"1\" style={{ width: \"100%\" }}>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<th>Usluga</th>\r\n\t\t\t\t\t\t\t\t<th>Cena</th>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t{this.props.prices.map((price) => (\r\n\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t<td>{price.EntityDTO.name}</td>\r\n\t\t\t\t\t\t\t\t\t<td>{price.EntityDTO.price}</td>\r\n\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</table>\r\n\r\n                       \r\n\r\n                        \r\n                        \r\n\t\t\t\t\t</div>\r\n                   \r\n                </Modal.Body>\r\n\t\t\t\t<Modal.Footer>\r\n                    <Button onClick={() => this.handleClickOnClose()}>Zatvori</Button>\r\n\t\t\t\t</Modal.Footer>\r\n\t\t\t</Modal>\r\n\r\n\r\n\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default PriceModal;\r\n","E:\\aca\\isa\\nova-isa-projekat\\isa2021\\isa-projekat\\ISA-front\\src\\Pages\\Cottages\\CottagesPage.js",["149","150","151","152"],"E:\\aca\\isa\\nova-isa-projekat\\isa2021\\isa-projekat\\ISA-front\\src\\Pages\\UserProfile.js",["153","154","155"],"import React, { Component } from \"react\";\r\nimport Axios from \"axios\";\r\nimport Header from '../Components/Header';\r\nimport GetAuthorisation from \"../Funciton/GetAuthorisation\";\r\n\r\nimport UnsuccessfulAlert from \"../Components/Alerts/UnsuccessfulAlert\";\r\nimport SuccessfulAlert from \"../Components/Alerts/SuccessfulAlert\";\r\nimport ChangePasswordModal from \"../Components/Modal/ChangePasswordModal\";\r\n\r\n\r\n\r\n\r\nconst API_URL=\"http://localhost:8080\";\r\n\r\nclass UserProfile extends Component {\r\n\r\n    state = {\r\n\t\tid: \"\",\r\n\t\temail: \"\",\r\n        name: \"\",\r\n\t\tsurname: \"\",\r\n\t\tpassword: \"\",\r\n\t\taddress: \"\",\r\n\t\tphoneNumber: \"\",\r\n\t\tnameError: \"none\",\r\n\t\tsurnameError: \"none\",\r\n\t\taddressError: \"none\",\r\n\t\tphoneError: \"none\",\r\n\t\tphoneValidateError: \"none\",\r\n\t\thiddenEditInfo: true,\r\n        redirect: false,\r\n\t\thiddenSuccessfulAlert: true,\r\n\t\tsuccessfulHeader: \"\",\r\n\t\tsuccessfulMessage: \"\",\r\n\t\thiddenUnsuccessfulAlert: true,\r\n\t\tUnsuccessfulHeader: \"\",\r\n\t\tUnsuccessfulMessage: \"\",\r\n\t\tisPasswordModalOpened: false,\r\n\t\thiddenPasswordErrorAlert: true,\r\n\t\terrorPasswordHeader: \"\",\r\n\t\terrorPasswordMessage: \"\",\r\n\t\temptyOldPasswordError: \"none\",\r\n\t\temptyNewPasswordError: \"none\",\r\n\t\temptyNewPasswordRepeatedError: \"none\",\r\n\t\tnewPasswordAndRepeatedNotSameError: \"none\",\r\n\r\n\t\t\r\n\t\tuserAllergens: [],\r\n\t\thiddenAllergenSuccessfulAlert: true,\r\n\t\tsuccessfulAllergenHeader: \"\",\r\n\t\tsuccessfulAllergenMessage: \"\",\r\n\t\thiddenAllergenErrorAlert: true,\r\n\t\terrorAllergenHeader: \"\",\r\n\t\terrorAllergenMessage: \"\",\r\n\t\topenAllergenModal: false,\r\n\t\tpatientPoints : \"\",\r\n\t\tpatientPenalties : \"\",\r\n\t\tpatientLoyaltyCategory : \"\",\r\n\t\texaminationDiscount : \"\",\r\n\t\tconsultationDiscount : \"\",\r\n\t\tdrugDiscount : \"\",\r\n\t\tshowAnotherInformation: false,\r\n\t\thideButtonForAnotherInformation : false\r\n\r\n\r\n\t};\r\n\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t}\r\n\r\n    hasRole = (requestRole) => {\r\n        let currentRoles = JSON.parse(localStorage.getItem(\"keyRole\"));\r\n  \r\n        if (currentRoles === null) return false;\r\n  \r\n  \r\n        for (let currentRole of currentRoles) {\r\n          if (currentRole === requestRole) return true;\r\n        }\r\n        return false;\r\n      };\r\n\r\n\t\r\n    handleEmailChange = (event) => {\r\n\t\tthis.setState({ email: event.target.value });\r\n\t};\r\n\r\n\thandleNameChange = (event) => {\r\n\t\tthis.setState({ name: event.target.value });\r\n\t};\r\n\r\n\thandleSurnameChange = (event) => {\r\n\t\tthis.setState({ surname: event.target.value });\r\n\t};\r\n\r\n\thandlePhoneNumberChange = (event) => {\r\n\t\tthis.setState({ phoneNumber: event.target.value });\r\n\t};\r\n\r\n\thandleAddressChange = (event) => {\r\n\t\tthis.setState({ address: event.target.value });\r\n\t};\r\n\r\n\thandleCloseSuccessfulAlert = () => {\r\n\t\tthis.setState({ hiddenSuccessfulAlert: true });\r\n\t};\r\n\r\n\thandleCloseUnsuccessfulAlert= () => {\r\n\t\tthis.setState({ hiddenUnsuccessfulAlert: true });\r\n\t};\r\n\r\n\r\n\thandleChangePasswordModalOpen = () => {\r\n\t\tthis.setState({ hiddenEditInfo: true, \r\n\t\t\tisPasswordModalOpened: true });\r\n\t};\r\n\r\n\thandleChangePasswordModalClose = () => {\r\n\t\tthis.setState({ isPasswordModalOpened: false });\r\n\t};\r\n\r\n\thandleCloseAlertPassword = () => {\r\n\t\tthis.setState({ hiddenPasswordErrorAlert: true });\r\n\t};\r\n\r\n\thandleAllergenModal = () => {\r\n\t\tthis.setState({ hiddenEditInfo: true, openAllergenModal: true });\r\n\t};\r\n\r\n\r\n\t\r\n\thandleAllergensModalClose = () => {\r\n\t\tthis.setState({\r\n\t\t\t\r\n\t\t\thiddenAllergenSuccessfulAlert: true,\r\n\t\t\tsuccessfulAllergenHeader: \"\",\r\n\t\t\tsuccessfulAllergenMessage: \"\",\r\n\t\t\thiddenAllergenErrorAlert: true,\r\n\t\t\terrorAllergenHeader: \"\",\r\n\t\t\terrorAllergenMessage: \"\",\r\n\t\t\topenAllergenModal: false,\r\n\t\t});\r\n\t};\r\n\r\n\thandleCloseAllergenAlertError = () => {\r\n\t\tthis.setState({ hiddenAllergenErrorAlert: true });\r\n\t};\r\n\r\n\thandleCloseAllergenAlertSuccessful = () => {\r\n\t\tthis.setState({ hiddenAllergenSuccessfulAlert: true });\r\n\t};\r\n\r\n\r\n\tcomponentDidMount() {\r\n        console.log(localStorage.getItem(\"keyRole\"));\r\n\t\tif (!this.hasRole(\"ROLE_CLIENT\")) {\r\n\t\t\tthis.setState({ redirect: true });\r\n\t\t\tthis.props.history.push('/login')\r\n\t\t\r\n        } else {\r\n\r\n\r\n\t\t\tconsole.log(GetAuthorisation());\r\n\t\t\tconsole.log(localStorage.getItem(\"keyRole\"));\r\n\t\t\t\r\n\t\t\tif(this.hasRole(\"ROLE_CLIENT\")){\r\n\t\t\tAxios.get(API_URL + \"/users/client\", { validateStatus: () => true, headers: { Authorization : GetAuthorisation()} })\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tconsole.log(res.data);\r\n\t\t\t\t\tif (res.status === 401) {                       \r\n                        this.setState({ redirect: true });\t\t\t\t\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tconsole.log(res.data.EntityDTO.email)\r\n\t\t\t\t\t\tconsole.log(res.data.EntityDTO.name)\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\r\n                        this.setState({\r\n\t\t\t\t\t\t\tid: res.data.Id,\r\n\t\t\t\t\t\t\temail: res.data.EntityDTO.email,\r\n\t\t\t\t\t\t\tname: res.data.EntityDTO.name,\r\n\t\t\t\t\t\t\tsurname: res.data.EntityDTO.surname,\r\n\t\t\t\t\t\t\taddress: res.data.EntityDTO.address,\r\n\t\t\t\t\t\t\tphoneNumber: res.data.EntityDTO.phoneNumber,\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\r\n\t\t\t\t\t\tconsole.log(this.state.userAllergens)\r\n\t\t\t\t\t\t\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tconsole.log(err);\r\n\t\t\t\t\tconsole.log(\"ovaj eror je u pitanju\");\r\n\r\n\t\t\t\t});\r\n\r\n            }\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n\r\n\t\r\n\r\n\thandleChangeInfo = () => {\r\n\t\t\r\n\r\n\r\n\t\tlet userDTO = {\r\n\t\t\tname: this.state.name,\r\n\t\t\tsurname: this.state.surname,\r\n\t\t\taddress: this.state.address,\r\n\t\t\tphoneNumber: this.state.phoneNumber,\r\n\t\t};\r\n\r\n\r\n\r\n\t\tif (this.validateForm(userDTO)){\r\n\r\n\t\t\tconsole.log(userDTO.name  )\r\n\r\n\t\t\tif(this.hasRole(\"ROLE_CLIENT\")){\r\n\t\t\tAxios.put(API_URL + \"/users/client\", userDTO, {\r\n\t\t\t\tvalidateStatus: () => true,\r\n\t\t\t\theaders: { Authorization: GetAuthorisation() },\r\n\t\t\t})\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tif (res.status === 400) {\r\n\t\t\t\t\t\tthis.setState({ hiddenUnsuccessfulAlert: false,\r\n\t\t\t\t\t\t\tUnsuccessfulHeader: \"Bad request\", \r\n\t\t\t\t\t\t\tUnsuccessfulMessage: \"Pogrešni podaci.\" });\r\n\r\n\t\t\t\t\t} else if (res.status === 500) {\r\n\r\n\t\t\t\t\t\tthis.setState({ hiddenUnsuccessfulAlert: false, \r\n\t\t\t\t\t\t\tUnsuccessfulHeader: \"Internal server error\", \r\n\t\t\t\t\t\t\tUnsuccessfulMessage: \"Serverska greška.\" });\r\n\r\n\t\t\t\t\t} else if (res.status === 204) {\r\n\t\t\t\t\t\tconsole.log(\"Success\");\r\n\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\thiddenSuccessfulAlert: false,\r\n\t\t\t\t\t\t\tsuccessfulHeader: \"Success\",\r\n\t\t\t\t\t\t\tsuccessfulMessage: \"Uspešno ste ažurirali svoje podatke.\",\r\n\t\t\t\t\t\t\thiddenEditInfo: true,\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tconsole.log(err);\r\n\t\t\t\t\tthis.setState({ hiddenUnsuccessfulAlert: false,\r\n\t\t\t\t\t\tUnsuccessfulHeader: \"Error\", \r\n\t\t\t\t\t\tUnsuccessfulMessage: \"Something was wrong\" });\r\n\t\t\t\t\r\n\t\t\t\t});\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\t\r\n\t};\r\n\r\n\r\n\thandleEditInfoClick= () => {\r\n\t\tthis.setState({\r\n\t\t\thiddenEditInfo: false\r\n\t\t});\r\n\r\n\t\t\r\n\t};\r\n\r\n\tvalidateForm = (userDTO) => {\r\n\t\r\n\t\tthis.setState({\r\n\t\t\tnameError: \"none\",\r\n\t\t\tsurnameError: \"none\",\r\n\t\t\taddressError: \"none\",\r\n\t\t\tphoneError: \"none\",\r\n\t\t\tphoneValidateError: \"none\",\r\n\t\t});\r\n\r\n\t\tconst regexPhone = /^([+]?[0-9]{3,6}[-]?[\\/]?[0-9]{3,5}[-]?[\\/]?[0-9]*)$/;\r\n\t\tconsole.log(regexPhone.test(userDTO.phoneNumber));\r\n\t\tif (userDTO.name === \"\") {\r\n\t\t\tthis.setState({ nameError: \"initial\" });\r\n\t\t\treturn false;\r\n\t\t} else if (userDTO.surname === \"\") {\r\n\t\t\tthis.setState({ surnameError: \"initial\" });\r\n\t\t\treturn false;\r\n\t\t} else if (userDTO.address=== \"\") {\r\n\t\t\tthis.setState({ addressError: \"initial\" });\r\n\t\t\treturn false;\r\n\t\t} else if (userDTO.phoneNumber === \"\") {\r\n\t\t\tthis.setState({ phoneError: \"initial\" });\r\n\t\t\treturn false;\r\n\t\t} else if (regexPhone.test(userDTO.phoneNumber) === false) {\r\n\t\t\tthis.setState({ phoneValidateError: \"initial\" });\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\treturn true;\r\n\t};\r\n\r\n\r\n\r\n\r\n\tchangePassword = (oldPassword, newPassword, newPasswordRepeated) => {\r\n\t\tconsole.log(oldPassword, newPassword, newPasswordRepeated);\r\n\r\n\t\tthis.setState({\r\n\t\t\thiddenEditInfo: true,\r\n\t\t\thiddenPasswordErrorAlert: true,\r\n\t\t\terrorPasswordHeader: \"\",\r\n\t\t\terrorPasswordMessage: \"\",\r\n\t\t\temptyOldPasswordError: \"none\",\r\n\t\t\temptyNewPasswordError: \"none\",\r\n\t\t\temptyNewPasswordRepeatedError: \"none\",\r\n\t\t\tnewPasswordAndRepeatedNotSameError: \"none\",\r\n\t\t\thiddenSuccessAlert: true,\r\n\t\t\tsuccessHeader: \"\",\r\n\t\t\tsuccessMessage: \"\",\r\n\r\n\r\n\t\t});\r\n\r\n\t\tif (oldPassword === \"\") {\r\n\t\t\tthis.setState({ emptyOldPasswordError: \"initial\" });\r\n\t\t} else if (newPassword === \"\") {\r\n\t\t\tthis.setState({ emptyNewPasswordError: \"initial\" });\r\n\t\t} else if (newPasswordRepeated === \"\") {\r\n\t\t\tthis.setState({ emptyNewPasswordRepeatedError: \"initial\" });\r\n\t\t} else if (newPasswordRepeated !== newPassword) {\r\n\t\t\tthis.setState({ newPasswordAndRepeatedNotSameError: \"initial\" });\r\n\t\t} else {\r\n\t\t\tlet newPasswordDTO= { oldPassword, newPassword };\r\n\t\t\tAxios.post(API_URL + \"/users/changePassword\", newPasswordDTO, {\r\n\t\t\t\tvalidateStatus: () => true,\r\n\t\t\t\theaders: { Authorization: GetAuthorisation() },\r\n\t\t\t})\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\t if (res.status === 400) {\r\n\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\thiddenPasswordErrorAlert: false,\r\n\t\t\t\t\t\t\terrorPasswordHeader: \"Invalid new password\",\r\n\t\t\t\t\t\t\terrorPasswordMessage: \"Pogrešna nova lozinka.\",\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else if (res.status === 403) {\r\n\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\thiddenPasswordErrorAlert: false,\r\n\t\t\t\t\t\t\terrorPasswordHeader: \"Bad credentials\",\r\n\t\t\t\t\t\t\terrorPasswordMessage: \"Uneli ste pogrešnu lozinku.\",\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else if (res.status === 500) {\r\n\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\thiddenPasswordErrorAlert: false,\r\n\t\t\t\t\t\t\terrorPasswordHeader: \"Internal server eror\",\r\n\t\t\t\t\t\t\terrorPasswordMessage: \"Serverska greška.\",\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else if (res.status === 204) {\r\n\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\thiddenSuccessfulAlert: false,\r\n\t\t\t\t\t\t\tsuccessfulHeader: \"Success\",\r\n\t\t\t\t\t\t\tsuccessfulMessage: \"Uspešno ste promenili lozinku!\",\r\n\t\t\t\t\t\t\tisPasswordModalOpened: false,\r\n\t\t\t\t\t\t\thiddenEditInfo: true,\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t\tconsole.log(res);\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tconsole.log(err);\r\n\t\t\t\t\tthis.setState({ hiddenUnsuccessfulAlert: false,\r\n\t\t\t\t\t\tUnsuccessfulHeader: \"Error\", \r\n\t\t\t\t\t\tUnsuccessfulMessage: \"Nešto nije u redu.\" });\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\r\n\r\n\r\n\r\n\r\n\t\r\n\r\n\trender() {\r\n\r\n        \r\n\t\treturn(\r\n\r\n            <React.Fragment>\r\n\r\n            <Header/>  \r\n\r\n            <div id=\"userProfilePage\" className=\"container\">\r\n\r\n\r\n\t\t\t\t\t<SuccessfulAlert\r\n\t\t\t\t\t\thidden={this.state.hiddenSuccessfulAlert}\r\n\t\t\t\t\t\theader={this.state.successfulHeader}\r\n\t\t\t\t\t\tmessage={this.state.successfulMessage}\r\n\t\t\t\t\t\thandleCloseAlert={this.handleCloseSuccessfulAlert}    \r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<UnsuccessfulAlert\r\n\t\t\t\t\t\thidden={this.state.hiddenUnsuccessfulAlert}\r\n\t\t\t\t\t\theader={this.state.UnsuccessfulHeader}\r\n\t\t\t\t\t\tmessage={this.state.UnsuccessfulMessage}\r\n\t\t\t\t\t\thandleCloseAlert={this.handleCloseUnsuccessfulAlert}\r\n\t\t\t\t\t/>\r\n\r\n\r\n\r\n\t\r\n\r\n\r\n\r\n\t\r\n\t\t\t\r\n\r\n\r\n            <h4 className=\" text-center  mb-0 text-uppercase\" style={{ marginTop: \"2rem\" }}>\r\n\t\t\t\t\t\tKorisnički profil\r\n\t\t\t</h4>\r\n\r\n            <div className=\"row mt-5 \">\r\n\r\n\t\t\t\t\t<div className=\"col  container  offset-1 shadow p-3  bg-white \">\r\n                        <h5 className=\" text-center text-uppercase\">Lični podaci</h5>\r\n                        \r\n\r\n\t\t\t\t\t\t<form id=\"informationForm\" >\r\n\t\t\t\t\t\t\t\t<div className=\"control-group\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"form-group controls mb-0 pb-2\" >\r\n\t\t\t\t\t\t\t\t\t\t<b>Email adresa:</b>\r\n\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\treadOnly\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Email adresa\"\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"form-control-plaintext\"\r\n\t\t\t\t\t\t\t\t\t\t\tid=\"name\"\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={this.handleEmailChange}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={this.state.email}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"control-group\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"form-group controls mb-0 pb-2\" >\r\n\t\t\t\t\t\t\t\t\t\t<b>Ime:</b>\r\n\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\treadOnly={this.state.hiddenEditInfo}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName={!this.state.hiddenEditInfo === false ? \"form-control-plaintext\" : \"form-control\"}\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Ime\"\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={this.handleNameChange}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={this.state.name}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"text-danger\" style={{ display: this.state.nameError }}>\r\n                                    Morate uneti ime.\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"control-group\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"form-group controls mb-0 pb-2\">\r\n\t\t\t\t\t\t\t\t\t\t<b>Prezime:</b>\r\n\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\treadOnly={this.state.hiddenEditInfo}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName={!this.state.hiddenEditInfo === false ? \"form-control-plaintext\" : \"form-control\"}\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Prezime\"\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={this.handleSurnameChange}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={this.state.surname}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"text-danger\" style={{ display: this.state.surnameError }}>\r\n                                    Morate uneti prezime.\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"control-group\">\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t<div className=\"form-group controls mb-0 pb-2\" >\r\n\t\t\t\t\t\t\t\t\t\t\t<b>Adresa:</b>\r\n\t\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\t\treadOnly={this.state.hiddenEditInfo}\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={!this.state.hiddenEditInfo === false ? \"form-control-plaintext\" : \"form-control\"}\r\n\t\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Adresa\"\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={this.handleAddressChange}\r\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={this.state.address}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t<div className=\"text-danger\" style={{ display: this.state.addressError }}>\r\n                                    Morate uneti adresu.\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"control-group\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"form-group controls mb-0 pb-2\" >\r\n\t\t\t\t\t\t\t\t\t\t<b>Broj telefona:</b>\r\n\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Broj telefona\"\r\n\t\t\t\t\t\t\t\t\t\t\treadOnly={this.state.hiddenEditInfo}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName={!this.state.hiddenEditInfo === false ? \"form-control-plaintext\" : \"form-control\"}\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={this.handlePhoneNumberChange}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={this.state.phoneNumber}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"text-danger\" style={{ display: this.state.phoneError }}>\r\n                                        Morate uneti broj telefona.\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"text-danger\" style={{ display: this.state.phoneValidateError }}>\r\n\t\t\t\t\t\t\t\t\t\tNije dobar format za broj.\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"form-group text-center\" hidden={this.state.hiddenEditInfo}>\r\n\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\tstyle={{  marginTop: \"15px\" }}\r\n\t\t\t\t\t\t\t\t\t\tonClick={this.handleChangeInfo}\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"btn btn-outline-primary btn-xl\"\r\n\t\t\t\t\t\t\t\t\t\tid=\"sendMessageButton\"\r\n\t\t\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\tIzmeni podtake\r\n\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<br />\r\n\r\n\t\t\t\t\t\t\t\t<div className=\"form-group\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"form-row justify-content-center mr-3\">\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"mr-2\" hidden={!this.state.hiddenEditInfo}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={this.handleEditInfoClick}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"btn btn-outline-primary btn-xl\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"sendMessageButton\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tIzmena podataka\r\n\t\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\t\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"mr-2\" hidden={!this.state.hiddenEditInfo}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={this.handleChangePasswordModalOpen}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"btn btn-outline-primary btn-xl\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"sendMessageButton\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tIzmena lozinke\r\n\t\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\r\n\r\n\r\n\t\t\t\t\t</form>\r\n\t\t\t\t\t\r\n\r\n\r\n\r\n\t\t\t\t\r\n\r\n\r\n\r\n                    </div>\r\n\r\n\r\n\r\n\r\n\t\t\t\t\r\n\r\n\t\t\t\t</div>\t\r\n\t\t\t\t\t\r\n\r\n            </div>\r\n\r\n\r\n            \r\n\r\n         \r\n\r\n\r\n\r\n\t\t\t<ChangePasswordModal\r\n\t\t\t\t\theader=\"Promena lozinke\"\r\n\t\t\t\t\thiddenPasswordErrorAlert={this.state.hiddenPasswordErrorAlert}\r\n\t\t\t\t\terrorPasswordHeader={this.state.errorPasswordHeader}\r\n\t\t\t\t\terrorPasswordMessage={this.state.errorPasswordMessage}\r\n\t\t\t\t\temptyOldPasswordError={this.state.emptyOldPasswordError}\r\n\t\t\t\t\temptyNewPasswordError={this.state.emptyNewPasswordError}\r\n\t\t\t\t\temptyNewPasswordRepeatedError={this.state.emptyNewPasswordRepeatedError}\r\n\t\t\t\t\tnewPasswordAndRepeatedNotSameError={this.state.newPasswordAndRepeatedNotSameError}\r\n\t\t\t\t\tshow={this.state.isPasswordModalOpened}\r\n\t\t\t\t\tchangePassword={this.changePassword}\r\n\t\t\t\t\tonCloseModal={this.handleChangePasswordModalClose}\r\n\t\t\t\t\thandleCloseAlertPassword={this.handleCloseAlertPassword}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\r\n\r\n\r\n            </React.Fragment>\r\n\r\n\r\n        );\r\n        \r\n\t}\r\n\r\n\r\n}\r\n\r\nexport default UserProfile;","E:\\aca\\isa\\nova-isa-projekat\\isa2021\\isa-projekat\\ISA-front\\src\\Components\\Modal\\ChangePasswordModal.js",["156"],"import React, { Component } from \"react\";\r\nimport { Button, Modal } from \"react-bootstrap\";\r\nimport UnsuccessfulAlert from \"../Alerts/UnsuccessfulAlert\";\r\n\r\nclass ChangePasswordModal extends Component {\r\n\tstate = {\r\n\t\toldPassword: \"\",\r\n\t\tnewPassword: \"\",\r\n\t\tnewPasswordRepeated: \"\",\r\n\t};\r\n\r\n\thandleOldPassword = (event) => {\r\n\t\tthis.setState({ oldPassword: event.target.value });\r\n\t};\r\n\r\n\thandleNewPasswordFirst = (event) => {\r\n\t\tthis.setState({ newPassword: event.target.value });\r\n\t};\r\n\r\n\thandleNewPasswordRepeat= (event) => {\r\n\t\tthis.setState({ newPasswordRepeated: event.target.value });\r\n\t};\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<Modal\r\n\t\t\t\tshow={this.props.show}\r\n\t\t\t\tsize=\"lg\"\r\n\t\t\t\tdialogClassName=\"modal-100w-100h\"\r\n\t\t\t\taria-labelledby=\"contained-modal-title-vcenter\"\r\n\t\t\t\tcentered\r\n\t\t\t\tonHide={this.props.onCloseModal}\r\n\t\t\t>\r\n\t\t\t\t<Modal.Header closeButton>\r\n\t\t\t\t\t<Modal.Title id=\"contained-modal-title-vcenter\">{this.props.header}</Modal.Title>\r\n\t\t\t\t</Modal.Header>\r\n\t\t\t\t<Modal.Body>\r\n\t\t\t\t\t<UnsuccessfulAlert\r\n\t\t\t\t\t\thidden={this.props.hiddenPasswordErrorAlert}\r\n\t\t\t\t\t\theader={this.props.errorPasswordHeader}\r\n\t\t\t\t\t\tmessage={this.props.errorPasswordMessage}\r\n\t\t\t\t\t\thandleCloseAlert={this.props.handleCloseAlertPassword}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<div className=\"control-group\">\r\n\t\t\t\t\t\t<div className=\"form-group \" >\r\n\t\t\t\t\t\t\t<label>Stara lozinka:</label>\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\tplaceholder=\"Stara lozinka\"\r\n\t\t\t\t\t\t\t\tclass=\"form-control\"\r\n\t\t\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\t\t\tonChange={this.handleOldPassword}\r\n\t\t\t\t\t\t\t\tvalue={this.state.oldPassword}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"text-danger\" style={{ display: this.props.emptyOldPasswordError }}>\r\n\t\t\t\t\t\t\tMorate uneti staru lozinku.\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"control-group\">\r\n\t\t\t\t\t\t<div className=\"form-group\" >\r\n\t\t\t\t\t\t\t<label>Nova lozinka:</label>\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\tplaceholder=\"Nova lozinka\"\r\n\t\t\t\t\t\t\t\tclass=\"form-control\"\r\n\t\t\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\t\t\tonChange={this.handleNewPasswordFirst}\r\n\t\t\t\t\t\t\t\tvalue={this.state.newPassword}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"text-danger\" style={{ display: this.props.emptyNewPasswordError }}>\r\n                        Morate uneti novu lozinku!\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"control-group\">\r\n\t\t\t\t\t\t<div className=\"form-group \" >\r\n\t\t\t\t\t\t\t<label>Ponovljena nova lozinka:</label>\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\tplaceholder=\"Ponovljena nova lozinka\"\r\n\t\t\t\t\t\t\t\tclass=\"form-control\"\r\n\t\t\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\t\t\tonChange={this.handleNewPasswordRepeat}\r\n\t\t\t\t\t\t\t\tvalue={this.state.newPasswordRepeated}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"text-danger\" style={{ display: this.props.emptyNewPasswordRepeatedError }}>\r\n                         Ponovo unesite novu lozinku\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"text-danger\" style={{ display: this.props.newPasswordAndRepeatedNotSameError }}>\r\n\t\t\t\t\t\t\tLozinke se moraju poklapati!\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"form-group text-center\">\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\tstyle={{ background: \"#1977cc\", marginTop: \"15px\" }}\r\n\t\t\t\t\t\t\tonClick={() => this.props.changePassword(this.state.oldPassword, this.state.newPassword, this.state.newPasswordRepeated)}\r\n\t\t\t\t\t\t\tclassName=\"btn btn-primary btn-xl\"\r\n\t\t\t\t\t\t\tid=\"sendMessageButton\"\r\n\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tIzmeni lozinku\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Modal.Body>\r\n\t\t\t\t<Modal.Footer>\r\n\t\t\t\t\t\r\n\t\t\t\t</Modal.Footer>\r\n\t\t\t</Modal>\r\n\r\n            \r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default ChangePasswordModal;","E:\\aca\\isa\\nova-isa-projekat\\isa2021\\isa-projekat\\ISA-front\\src\\Components\\Alerts\\UnsuccessfulAlert.js",[],"E:\\aca\\isa\\nova-isa-projekat\\isa2021\\isa-projekat\\ISA-front\\src\\Components\\Alerts\\SuccessfulAlert.js",[],"E:\\aca\\isa\\nova-isa-projekat\\isa2021\\isa-projekat\\ISA-front\\src\\Pages\\Courses\\CoursesPage.js",["157","158"],"import React, { Component } from \"react\";\r\nimport Axios from \"axios\";\r\nimport Header from '../../Components/Header';\r\nimport GetAuthorisation from \"../../Funciton/GetAuthorisation\"\r\n\r\nimport 'react-confirm-alert/src/react-confirm-alert.css'; \r\nimport { confirmAlert } from 'react-confirm-alert';\r\nimport PriceModal from \"../../Components/Modal/PriceModal\";\r\n\r\nconst API_URL = \"http://localhost:8080\";\r\n\r\nclass CoursesPage extends Component {\r\n\r\n\r\n\r\n\tstate = {\r\n\t\tboats: [],\r\n\t\tservices: [],\r\n\t\tsearchName: \"\",\r\n\t\tsearchGradeFrom: \"\",\r\n\t\tsearchGradeTo: \"\",\r\n\t\tsearchDateFrom: \"\",\r\n\t\tsearchDateTo: \"\",\r\n\t\tsearchMan: \"\",\r\n\t\t\r\n\t\tgrade: 1,\r\n\t\tmaxCount: \"\",\r\n\t\tprice: 0,\r\n\t\r\n\t\thiddenSuccessfulAlert: true,\r\n\t\tsuccessfulHeader: \"\",\r\n\t\tsuccessfulMessage: \"\",\r\n\t\thiddenUnsuccessfulAlert: true,\r\n\t\tunsuccessfulHeader: \"\",\r\n\t\tunsuccessfulMessage: \"\",\r\n\t\t\r\n\t\topenPriceModal:false\r\n\t};\r\n\r\n    handleFormToogle = () => {\r\n\t\tthis.setState({ formShowed: !this.state.formShowed });\r\n\t};\r\n\r\n\tcomponentDidMount() {\r\n\t\r\n\t\tAxios.get(API_URL + \"/course/allCourses\")\r\n\r\n\t\t\t.then((res) => {\r\n\t\t\t\tconsole.log(res.data);\r\n\t\t\t\tthis.setState({ boats: res.data });\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t});\r\n\r\n\t}\r\n\r\n\r\n\thandleResetSearch = () => {\r\n\t\tAxios.get(API_URL , {\r\n\r\n\t\t\tvalidateStatus: () => true,\r\n\t\t\theaders: { Authorization: GetAuthorisation() },\r\n\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tdrugs: res.data,\r\n\t\t\t\t\tformShowed: false,\r\n\t\t\t\t\tshowingSearched: false,\r\n\t\t\t\t\tsearchDateFrom: \"\",\r\n\t\t\t\t\tsearchDateTo: \"\",\r\n\t\t\t\t\tsearchGradeFrom: \"\",\r\n\t\t\t\t\tsearchGradeTo: \"\",\r\n\t\t\t\t\t\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t});\r\n\r\n\r\n\t};\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\thandleModalClose = () => {\r\n\t\tthis.setState({ openPriceModal: false });\r\n\t};\r\n\r\n    handleShowPrice = (services) => {\r\n\t\tthis.setState({ openPriceModal: true ,services:services});\r\n        console.log(\"eeeeeeeeeeeeeeeeeeeee\");\r\n        console.log(this.state.openPriceModal);\r\n\t};\r\n\r\n\r\n\t\r\n\trender() {\r\n\r\n\r\n\t\treturn (\r\n\r\n\t\t\t<React.Fragment>\r\n\r\n\t\t\t\t<Header />\r\n\r\n\t\t\t\t<div id=\"allCourses\" >\r\n\r\n\t\t\t\t\t<div className=\"container\" style={{ marginTop: \"2em\" }} >\r\n\t\t\t\t\t\t<h2 className=\" text-center  mt-2 text-uppercase\">Vikendice</h2>\r\n\t\t\t\t\t\r\n\t\t\t\t\t</div>\r\n\r\n\r\n\t\t\t\t\t<div style={{ width: \"70%\", marginTop: \"3em\", marginLeft: \"auto\", marginRight: \"auto\" }} width=\"100%\">\r\n\r\n\r\n\t\t\t\t\t\t<button className=\"btn btn-outline-primary btn-xl\" type=\"button\" onClick={this.handleFormToogle}>\r\n\r\n\t\t\t\t\t\t\tPretraga\r\n\t\t\t\t\t\t</button>\r\n\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<form className={this.state.formShowed ? \"form-inline mt-3\" : \"form-inline mt-3 collapse\"} width=\"100%\" id=\"formCollapse\">\r\n\t\t\t\t\t\t\t<div className=\"form-group mb-2\" width=\"100%\">\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"Datum od\"\r\n\t\t\t\t\t\t\t\t\tclassName=\"form-control mr-3\"\r\n\t\t\t\t\t\t\t\t\tstyle={{ width: \"9em\" }}\r\n\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\tonChange={this.handleDateFromChange}\r\n\t\t\t\t\t\t\t\t\tvalue={this.state.searchDateFrom}\r\n\t\t\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"Datum do\"\r\n\t\t\t\t\t\t\t\t\tclassName=\"form-control mr-3\"\r\n\t\t\t\t\t\t\t\t\tstyle={{ width: \"9em\" }}\r\n\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\tonChange={this.handleDateToChange}\r\n\t\t\t\t\t\t\t\t\tvalue={this.state.searchDateTo}\r\n\t\t\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"Lokacija\"\r\n\t\t\t\t\t\t\t\t\tclassName=\"form-control mr-3\"\r\n\t\t\t\t\t\t\t\t\tstyle={{ width: \"9em\" }}\r\n\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\tonChange={this.handleManChange}\r\n\t\t\t\t\t\t\t\t\tvalue={this.state.searchMan}\r\n\t\t\t\t\t\t\t\t/>\r\n\r\n\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"Ocena od\"\r\n\t\t\t\t\t\t\t\t\tclassName=\"form-control mr-3\"\r\n\t\t\t\t\t\t\t\t\tstyle={{ width: \"9em\" }}\r\n\t\t\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\t\t\tmin=\"0\"\r\n\t\t\t\t\t\t\t\t\tmax=\"5\"\r\n\t\t\t\t\t\t\t\t\tonChange={this.handleGradeFromChange}\r\n\t\t\t\t\t\t\t\t\tvalue={this.state.searchGradeFrom}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"Ocena do\"\r\n\t\t\t\t\t\t\t\t\tclassName=\"form-control mr-3\"\r\n\t\t\t\t\t\t\t\t\tstyle={{ width: \"9em\" }}\r\n\t\t\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\t\t\tmin=\"0\"\r\n\t\t\t\t\t\t\t\t\tmax=\"5\"\r\n\t\t\t\t\t\t\t\t\tonChange={this.handleGradeToChange}\r\n\t\t\t\t\t\t\t\t\tvalue={this.state.searchGradeTo}\r\n\t\t\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\tstyle={{ background: \"#1977cc\" }}\r\n\t\t\t\t\t\t\t\t\tonClick={this.handleSearchClick}\r\n\t\t\t\t\t\t\t\t\tclassName=\"btn btn-primary btn-x2\"\r\n\t\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<i className=\"icofont-search mr-1\"></i>\r\n\t\t\t\t\t\t\t\t\tPretraži\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</form>\r\n\r\n\t\t\t\t\t\t<div className={this.state.showingSearched ? \"form-group mt-2\" : \"form-group mt-2 collapse\"}>\r\n\t\t\t\t\t\t\t<button type=\"button\" className=\"btn btn-outline-secondary\" onClick={this.handleResetSearch}>\r\n\t\t\t\t\t\t\t\t<i className=\"icofont-close-line mr-1\"></i>Reset\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\r\n\r\n\t\t\t\t\t\t<table className={\"table\"} style={{ width: \"85%\", marginTop: \"3rem\" }}>\r\n\t\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t\t{this.state.boats.map((boat) => (\r\n\t\t\t\t\t\t\t\t\t<tr id={boat.Id} key={boat.Id} >\r\n\t\t\t\t\t\t\t\t\t\t<td width=\"300em\" >\r\n\t\t\t\t\t\t\t\t\t\t\t<div style={{ marginTop: \"5%\" }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<img className=\"img-fluid\" src={`data:image/jpeg;base64,${boat.EntityDTO.image}`} width=\"300em\"  />\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t<td width=\"50%\" > \r\n\t\t\t\t\t\t\t\t\t\t\t<div style={{ marginTop: \"2%\" }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b>Naziv:</b> {boat.EntityDTO.name}\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b>Adresa:</b> {boat.EntityDTO.address}\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b>Ocena:</b> {boat.EntityDTO.avgGrade}\r\n\t\t\t\t\t\t\t\t\t\t\t\t<i className=\"icon-star\" style={{ color: \"yellow\" }}></i>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n                                            <div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b>Kratak opis:</b> {boat.EntityDTO.description}\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b>Informacije o instruktoru: </b>{boat.EntityDTO.instructor} {boat.EntityDTO.biography}\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</td>\r\n                                        <td className=\"align-middle\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => this.handleShowPrice(boat.EntityDTO.services)}\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"btn btn-outline-primary btn-block\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tCenovnik\r\n\t\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n                                        </td>\r\n\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t\t</table>\r\n\r\n\r\n\r\n\r\n\r\n\t\t\t\t\t</div>\r\n\r\n\r\n                    <PriceModal show={this.state.openPriceModal} onCloseModal={this.handleModalClose} prices={this.state.services}  header=\"Cenovnik\" />\r\n\t\t\t\t</div>\r\n\r\n             \r\n\t\t\t</React.Fragment>\r\n\r\n\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default CoursesPage;\r\n","E:\\aca\\isa\\nova-isa-projekat\\isa2021\\isa-projekat\\ISA-front\\src\\Components\\Modal\\Services.js",["159","160","161","162"],"E:\\aca\\isa\\nova-isa-projekat\\isa2021\\isa-projekat\\ISA-front\\src\\Pages\\Boats\\BoatFutureReservationsPage.js",["163","164","165","166"],"import React, { Component } from \"react\";\r\nimport Axios from \"axios\";\r\nimport Header from '../../Components/Header';\r\nimport GetAuthorisation from \"../../Funciton/GetAuthorisation\";\r\nimport {NavLink, Redirect } from \"react-router-dom\";\r\nimport CancelModal from \"../../Components/Modal/CancelModal\";\r\n\r\nconst API_URL=\"http://localhost:8080\";\r\n\r\nclass BoatFutureReservationsPage extends Component {\r\n\t\r\n  \r\n    \r\n    state = {\r\n        reservations : [],\r\n        showCancelModal:false,\r\n        reservationId:\"\",\r\n        percentOfCancel:0\r\n    };\r\n\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n  \r\n\r\n\r\n  componentDidMount() {\r\n\r\n    if (!this.hasRole(\"ROLE_CLIENT\")) {\r\n\t\t\tthis.props.history.push('/login');\r\n    }\r\n\r\n    \r\n    Axios.get(API_URL + \"/reservation/findAllFutureBoatReservationClient\", {\r\n\t\t\tvalidateStatus: () => true,\r\n\t\t\theaders: { Authorization: GetAuthorisation() },\r\n\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tif (res.status === 401) {\r\n                    this.props.history.push('/login');\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.setState({ reservations: res.data });\r\n\t\t\t\t\tconsole.log(res.data);\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t});\r\n\t}\r\n      \r\n\r\n  hasRole = (requestRole) => {\r\n    let currentRoles = JSON.parse(localStorage.getItem(\"keyRole\"));\r\n\r\n    if (currentRoles === null) return false;\r\n\r\n\r\n    for (let currentRole of currentRoles) {\r\n      if (currentRole === requestRole) return true;\r\n    }\r\n    return false;\r\n  };\r\n\r\n\r\n  \r\n    isAvailableToCanceled =(date) => {\r\n\r\n        var reservationDate= new Date(date);\r\n        reservationDate.setDate(reservationDate.getDate() -3);\r\n\r\n        if(reservationDate <= new Date()){\r\n            return true;\r\n        }\r\n\r\n        return false;\r\n    }\r\n \r\n    moveToReservationHistory =() => {\r\n\r\n       this.props.history.push(\"/historyBoatReservation\");\r\n    }\r\n\r\n    handleCancelClick = (reservation) => {\r\n\t\tconsole.log(reservation);\r\n\t\t\r\n\t\t\t\t\r\n\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\treservationId: reservation.Id,\r\n\t\t\t\t\t\tshowCancelModal: true,\r\n                        percentOfCancel : reservation.EntityDTO.unit.EntityDTO.percentOfCancel\r\n\t\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t\r\n\t\t\t\r\n\t};\r\n    handleCancelReservation = () => {\r\n  \r\n        let reservationIdDTO = { id: this.state.reservationId};\r\n    \r\n        Axios.post(API_URL + \"/reservation/cancelReservation\",reservationIdDTO , {\r\n                validateStatus: () => true,\r\n                headers: { Authorization: GetAuthorisation() },\r\n            })\r\n          .then((res) => {\r\n            if (res.status === 400) {\r\n                alert(res.data);\r\n    \r\n            } else if (res.status === 500) {\r\n    \r\n                alert(\"Serverska greška\")\r\n    \r\n            } \r\n            else if (res.status === 404) {\r\n    \r\n            \r\n                    alert(res.data);\r\n      \r\n            } else if (res.status === 200) {\r\n              console.log(\"Success\");\r\n              alert(\"Uspešno je otkazana rezervacija\")\r\n              this.setState({showCancelModal:false});\r\n              Axios.get(API_URL + \"/reservation/findAllFutureBoatReservationClient\", {\r\n                validateStatus: () => true,\r\n                headers: { Authorization: GetAuthorisation() },\r\n            })\r\n                .then((res) => {\r\n                    if (res.status === 401) {\r\n              this.props.history.push('/login');\r\n                    } else {\r\n                        this.setState({ reservations: res.data });\r\n                        console.log(res.data);\r\n                    }\r\n                })\r\n                .catch((err) => {\r\n                    console.log(err);\r\n                });\r\n                        \r\n                    }\r\n               \r\n          })\r\n          .catch((err) => {\r\n            console.log(err);\r\n            alert(\"Greška\")\r\n          \r\n          });\r\n    \r\n        \r\n      \r\n    \r\n      }\r\n      handleCancelModalClose = () => {\r\n        this.setState({ showCancelModal: false });\r\n    };\r\n\r\n\trender() {\r\n\t\r\n\r\n\t\treturn (\r\n      \r\n      <React.Fragment>\r\n\r\n      <Header/>\r\n      \r\n         <div className=\"container\">\r\n\r\n\r\n         <button type=\"button\" class=\"btn btn-outline-primary btn-lg\"\r\n         onClick={() => this.moveToReservationHistory()}\r\n         style={{  marginTop: \"2em\", marginLeft: \"auto\",marginRight: \"auto\" }}\r\n          >\r\n         Istorija Rezervacija\r\n         </button>\r\n\r\n         <h1 hidden={this.state.reservations.length === 0} className=\"text-center  mt-3  \" >Vašae buduće rezervacije!</h1>\r\n         <h1 hidden={this.state.reservations.length !== 0} className=\"text-center  mt-3 text-danger\"  >Nemate rezervacija!</h1>\r\n\r\n\r\n\r\n      \r\n        \r\n    \r\n        <div className=\"container\">\r\n                    \r\n          <table className=\"table \" style={{ width: \"80%\", marginTop: \"5em\", marginLeft: \"auto\",marginRight: \"auto\" }}>\r\n\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t{this.state.reservations.map((reservation) => (\r\n\t\t\t\t\t\t\t\t<tr\r\n\t\t\t\t\t\t\t\t\tid={reservation.Id}\r\n\t\t\t\t\t\t\t\t\tkey={reservation.Id}\r\n\t\t\t\t\t\t\t\t\tstyle={{ cursor: \"pointer\" }}\r\n\t\t\t\t\t\t\t\t>\r\n\r\n                   <td width=\"150px\">  \r\n                   <img className=\"img-fluid\" src={`data:image/jpeg;base64,${reservation.EntityDTO.unit.EntityDTO.image}`} width=\"300em\"  />                                \r\n                                    \r\n                    </td>\r\n                    \r\n\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t<b>Početak: </b>{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t\t{new Date(reservation.EntityDTO.startDateTime).toLocaleDateString(\"en-UK\", {\r\n\t\t\t\t\t\t\t\t\t\t\t\tday: \"2-digit\",\r\n                                                month: \"2-digit\",\r\n                                                year: \"numeric\",\r\n                                                hour: \"2-digit\",\r\n                                                minute: \"2-digit\",\r\n\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n                                        <div>\r\n\t\t\t\t\t\t\t\t\t\t\t<b>Kraj: </b>{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t\t{new Date(reservation.EntityDTO.endDateTime).toLocaleDateString(\"en-UK\", {\r\n\t\t\t\t\t\t\t\t\t\t\t\tday: \"2-digit\",\r\n                                                month: \"2-digit\",\r\n                                                year: \"numeric\",\r\n                                                hour: \"2-digit\",\r\n                                                minute: \"2-digit\",\r\n\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n                                        <div>\r\n\t\t\t\t\t\t\t\t\t\t\t<b>Naziv: </b>{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t\t{reservation.EntityDTO.unit.EntityDTO.name}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t<b>Vlasnik: </b>{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t\t{reservation.EntityDTO.user.EntityDTO.name}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t<b>Ukupna cena:</b>{\" \"}\r\n                                         {reservation.EntityDTO.price }\r\n                                             <b>  din</b>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n                                        <div hidden={reservation.EntityDTO.actionPrice<=0}>\r\n\t\t\t\t\t\t\t\t\t\t\t<b>Akcijska cena:</b>{\" \"}\r\n                                         {reservation.EntityDTO.actionPrice }\r\n                                             <b>  din</b>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</td>\r\n\r\n                                    <td className=\"align-middle\">\r\n                                    <button\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"button\"\r\n                                            className=\"btn btn-outline-danger\"\r\n\t\t\t\t\t\t\t\t\t\t\thidden={this.isAvailableToCanceled(new Date(reservation.EntityDTO.startDateTime))}\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => this.handleCancelClick(reservation)}\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\tOtkaži rezervaciju\r\n\t\t\t\t\t\t\t\t\t\t</button>\r\n                                    </td>\r\n\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t</table>\r\n                </div>\r\n\r\n\r\n                <CancelModal\r\n\t\t\t\t\tbuttonName=\"Potvrdi\"\r\n\t\t\t\t\tshow={this.state.showCancelModal}\r\n\t\t\t\t\tonCloseModal={this.handleCancelModalClose}\r\n\t\t\t\t\tcancelReservation={this.handleCancelReservation}\r\n\t\t\t\t\tname={this.state.percentOfCancel}\r\n\t\t\t\t/>\r\n          \r\n        </div>\r\n        </React.Fragment>\r\n        \r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default BoatFutureReservationsPage;","E:\\aca\\isa\\nova-isa-projekat\\isa2021\\isa-projekat\\ISA-front\\src\\Pages\\Boats\\BoatHistoryReservationsPage.js",["167","168","169","170"],"import React, { Component } from \"react\";\r\nimport Axios from \"axios\";\r\nimport Header from '../../Components/Header';\r\nimport GetAuthorisation from \"../../Funciton/GetAuthorisation\";\r\nimport ComplaintModal from \"../../Components/Modal/ComplaintModal\";\r\n\r\n\r\nimport {NavLink, Redirect } from \"react-router-dom\";\r\n\r\n\r\n\r\nconst API_URL=\"http://localhost:8080\";\r\n\r\nclass BoatHistoryReservationsPage extends Component {\r\n\t\r\n  \r\n    \r\n    state = {\r\n        reservations : [],\r\n       \r\n\r\n\t\tshowComplaintModal: false,\r\n\t\t\r\n\t\tcomplaint: \"\",\r\n\t\tselectedUnitId:\"\",\r\n        profession:\"\",\r\n\t\tDate : new Date(),\r\n\t\ttext : \"\",\r\n        textUnit : \"\",\r\n        unitName:\"\",\r\n        selectedOwnerId: \"\",\r\n        showComplaintModal1 : false,\r\n        ownerName : \"\"\r\n\r\n    };\r\n\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n  \r\n\r\n\r\n  componentDidMount() {\r\n\r\n    if (!this.hasRole(\"ROLE_CLIENT\")) {\r\n\t\t\tthis.props.history.push('/login');\r\n    }\r\n\r\n    \r\n    Axios.get(API_URL + \"/reservation/findAllHistoryBoatReservationClient\", {\r\n\t\t\tvalidateStatus: () => true,\r\n\t\t\theaders: { Authorization: GetAuthorisation() },\r\n\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tif (res.status === 401) {\r\n                    this.props.history.push('/login');\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.setState({ reservations: res.data });\r\n\t\t\t\t\tconsole.log(res.data);\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t});\r\n\t}\r\n      \r\n\r\n  hasRole = (requestRole) => {\r\n    let currentRoles = JSON.parse(localStorage.getItem(\"keyRole\"));\r\n\r\n    if (currentRoles === null) return false;\r\n\r\n\r\n    for (let currentRole of currentRoles) {\r\n      if (currentRole === requestRole) return true;\r\n    }\r\n    return false;\r\n  };\r\n\r\n\r\n\r\n\r\n\r\n  moveToFutureReservation =() => {\r\n\r\n       this.props.history.push(\"/boatFutureReservation\");\r\n    }\r\n\r\n\r\n\r\n\thandleSortByPriceAscending =() => {\r\n\r\n\t\tconsole.log(\"sortiranjeee\");\r\n\t\tvar resrvationType= \"BOAT\";\r\n\r\n\t\tAxios.get(API_URL + \"/reservation/historyReservation/sortByPriceAscending/\" + resrvationType , {\r\n\t\t\tvalidateStatus: () => true,\r\n\t\t\theaders: { Authorization: GetAuthorisation() },\r\n\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tif (res.status === 401) {\r\n                    this.props.history.push('/login');\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.setState({ reservations: res.data });\r\n\t\t\t\t\tconsole.log(res.data);\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t});\r\n        \r\n    }\r\n\r\n\r\n\thandleSortByPriceDescending =() => {\r\n\r\n\t\tvar resrvationType= \"BOAT\";\r\n\r\n\t\tAxios.get(API_URL + \"/reservation/historyReservation/sortByPriceDescending/\" + resrvationType , {\r\n\t\t\tvalidateStatus: () => true,\r\n\t\t\theaders: { Authorization: GetAuthorisation() },\r\n\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tif (res.status === 401) {\r\n                    this.props.history.push('/login');\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.setState({ reservations: res.data });\r\n\t\t\t\t\tconsole.log(res.data);\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t});\r\n        \r\n    }\r\n\r\n\thandleSortByDateAscending =() => {\r\n\r\n\r\n\t\tconsole.log(\"sortiranjeee\");\r\n\t\tvar resrvationType= \"BOAT\";\r\n\r\n\t\tAxios.get(API_URL + \"/reservation/historyReservation/sortByDateAscending/\" + resrvationType , {\r\n\t\t\tvalidateStatus: () => true,\r\n\t\t\theaders: { Authorization: GetAuthorisation() },\r\n\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tif (res.status === 401) {\r\n                    this.props.history.push('/login');\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.setState({ reservations: res.data });\r\n\t\t\t\t\tconsole.log(res.data);\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t});\r\n        \r\n    }\r\n\r\n\r\n\thandleSortByDateDescending =() => {\r\n\r\n\t\t\r\n\t\tvar resrvationType= \"BOAT\";\r\n\r\n\t\tAxios.get(API_URL + \"/reservation/historyReservation/sortByDateDescending/\" + resrvationType , {\r\n\t\t\tvalidateStatus: () => true,\r\n\t\t\theaders: { Authorization: GetAuthorisation() },\r\n\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tif (res.status === 401) {\r\n                    this.props.history.push('/login');\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.setState({ reservations: res.data });\r\n\t\t\t\t\tconsole.log(res.data);\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t});\r\n        \r\n    }\r\n\r\n\r\n\thandleSortByDurationAppointmentAscending =() => {\r\n\r\n\t\tvar resrvationType= \"BOAT\";\r\n\r\n\t\tAxios.get(API_URL + \"/reservation/historyReservation/sortByDurationAscending/\" + resrvationType , {\r\n\t\t\tvalidateStatus: () => true,\r\n\t\t\theaders: { Authorization: GetAuthorisation() },\r\n\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tif (res.status === 401) {\r\n                    this.props.history.push('/login');\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.setState({ reservations: res.data });\r\n\t\t\t\t\tconsole.log(res.data);\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t});\r\n\r\n        \r\n    }\r\n\r\n\t\r\n\thandleSortByDurationAppointmentDescending =() => {\r\n\r\n\t\tvar resrvationType= \"BOAT\";\r\n\r\n\t\tAxios.get(API_URL + \"/reservation/historyReservation/sortByDurationDescending/\" + resrvationType , {\r\n\t\t\tvalidateStatus: () => true,\r\n\t\t\theaders: { Authorization: GetAuthorisation() },\r\n\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tif (res.status === 401) {\r\n                    this.props.history.push('/login');\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.setState({ reservations: res.data });\r\n\t\t\t\t\tconsole.log(res.data);\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t});\r\n\r\n        \r\n    }\r\n\r\n\thandleComplaintClick = (unit) => {\r\n\t\tconsole.log(unit);\r\n\t\t\r\n\t\t\t\t\r\n\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\tselectedUnitId: unit.Id,\r\n\t\t\t\t\t\tshowComplaintModal: true,\r\n                        unitName : unit.EntityDTO.name\r\n\t\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t\r\n\t\t\t\r\n\t};\r\n\r\n\r\n    handleComaplaint = () => {\r\n\t\tlet ComplaintUnitDTO = {\r\n\t\t\tunitId: this.state.selectedUnitId,\r\n\t\t\tdate: new Date(),\r\n\t\t\ttext: this.state.textUnit,\r\n\t\t\tunitName: \"\",\r\n\t\t\treply: \"\",\r\n\t\t\temail: \"\",\r\n\t\t};\r\n\r\n\t\tAxios.post(API_URL+\"/complaint/unit\", ComplaintUnitDTO, { validateStatus: () => true, headers: { Authorization: GetAuthorisation() } })\r\n\t\t\t.then((resp) => {\r\n\t\t\t\tif (resp.status === 500) {\r\n\t\t\t\t\tthis.setState({ hiddenFailAlert: false, failHeader: \"Internal server error\", failMessage: \"Server error.\" });\r\n\t\t\t\t} else if (resp.status === 201) {\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\tthis.setState({ showComplaintModal: false });\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t});\r\n\t};\r\n\r\n\thandleComplaintChange = (event) => {\r\n\t\tthis.setState({ textUnit: event.target.value });\r\n\t};\r\n\r\n\t\r\n\thandleComplaintModalClose = () => {\r\n\t\tthis.setState({ showComplaintModal: false });\r\n\t};\r\n\r\n\r\n    handleComplaintClickOwner = (owner) => {\r\n\t\tconsole.log(owner);\r\n\t\t\r\n\t\t\t\t\r\n\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\tselectedOwnerId: owner.Id,\r\n\t\t\t\t\t\tshowComplaintModal1: true,\r\n                        ownerName : owner.EntityDTO.name\r\n\t\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t\r\n\t\t\t\r\n\t};\r\n\r\n    handleComaplaintOwner = () => {\r\n\t\tlet ComplaintUserDTO = {\r\n\t\t\townerId: this.state.selectedOwnerId,\r\n\t\t\tdate: new Date(),\r\n\t\t\ttext: this.state.text,\r\n\t\t\tuserName:\"\",\r\n\t\t\tprofession: \"\",\r\n\t\t\treply: \"\",\r\n\t\t\temail: \"\",\r\n\t\t};\r\n\r\n\t\tAxios.post(API_URL +\"/complaint/user\", ComplaintUserDTO, { validateStatus: () => true, headers: { Authorization: GetAuthorisation() } })\r\n\t\t\t.then((resp) => {\r\n\t\t\t\tif (resp.status === 500) {\r\n\t\t\t\t\talert(\"Serverska greška\")\r\n\t\t\t\t} else if (resp.status === 201) {\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\tthis.setState({ showComplaintModal1: false });\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t});\r\n\t};\r\n\r\n\thandleComplaintChange1 = (event) => {\r\n\t\tthis.setState({ text: event.target.value });\r\n\t};\r\n\r\n\t\r\n\thandleComplaintModalClose1 = () => {\r\n\t\tthis.setState({ showComplaintModal1: false });\r\n\t};\r\n\r\n\r\n\r\n\r\n\r\n\trender() {\r\n\t\r\n\r\n\t\treturn (\r\n      \r\n      <React.Fragment>\r\n\r\n      <Header/>\r\n      \r\n         <div className=\"container\">\r\n\r\n\r\n\r\n         <button type=\"button\" class=\"btn btn-outline-primary btn-lg\"\r\n         onClick={() => this.moveToFutureReservation()}\r\n         style={{  marginTop: \"2em\", marginLeft: \"auto\",marginRight: \"auto\" }}\r\n         >\r\n         Buduće rezervacije \r\n        </button>\r\n\r\n\r\n\t\t<div className=\"container\" style={{  marginTop: \"2em\" }}>\r\n\r\n\t\t<div className=\"dropdown\">\r\n\t\t\t<button className=\"btn btn-primary btn-lg dropdown-toggle\"\r\n\t\t\t\ttype=\"button\" id=\"dropdownMenu2\"\r\n\t\t\t\tdata-toggle=\"dropdown\" \r\n\t\t\t\taria-haspopup=\"true\" \r\n\t\t\t\taria-expanded=\"false\">\r\n\t\t\t\tSortiraj po\r\n\t\t\t</button>\r\n\t\t\t<div className=\"dropdown-menu\" aria-labelledby=\"dropdownMenu2\">\r\n\t\t\t\t\t<button className=\"dropdown-item\" type=\"button\" onClick={this.handleSortByPriceAscending} >Ceni rastuće</button>\r\n\t\t\t\t\t<button className=\"dropdown-item\" type=\"button\" onClick={this.handleSortByPriceDescending} >Ceni opadajuće</button>\r\n\t\t\t\t\t<button className=\"dropdown-item\" type=\"button\" onClick={this.handleSortByDateAscending} >Datumu rastuće</button>\r\n\t\t\t\t\t<button className=\"dropdown-item\" type=\"button\" onClick={this.handleSortByDateDescending} >Datumu opadajuće</button>\r\n\t\t\t\t\t<button className=\"dropdown-item\" type=\"button\" onClick={this.handleSortByDurationAppointmentAscending} >Dužini rezervacije rastuće</button>\r\n\t\t\t\t\t<button className=\"dropdown-item\" type=\"button\" onClick={this.handleSortByDurationAppointmentDescending} >Dužini rezervacije opadajuće</button>\r\n\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t</div>\t\r\n\r\n\r\n         <h1 hidden={this.state.reservations.length === 0} className=\"text-center  mt-3  \" >Istorija rezervacija brodova</h1>\r\n         <h1 hidden={this.state.reservations.length !== 0} className=\"text-center  mt-3 text-danger\"  >Nema istorije</h1>\r\n\r\n\r\n        \r\n   \r\n        <div className=\"container\">\r\n                    \r\n          <table className=\"table\" style={{ width: \"100%\", marginTop: \"5em\", marginLeft: \"auto\",marginRight: \"auto\" }}>\r\n\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t{this.state.reservations.map((reservation) => (\r\n\t\t\t\t\t\t\t\t<tr\r\n\t\t\t\t\t\t\t\t\tid={reservation.Id}\r\n\t\t\t\t\t\t\t\t\tkey={reservation.Id}\r\n\t\t\t\t\t\t\t\t\tstyle={{ cursor: \"pointer\" }}\r\n\t\t\t\t\t\t\t\t>\r\n\r\n                        <td width=\"150px\">  \r\n                   <img className=\"img-fluid\" src={`data:image/jpeg;base64,${reservation.EntityDTO.unit.EntityDTO.image}`} width=\"300em\"  />                                \r\n                                    \r\n                    </td>\r\n                    \r\n\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t<b>Početak: </b>{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t\t{new Date(reservation.EntityDTO.startDateTime).toLocaleDateString(\"en-UK\", {\r\n\t\t\t\t\t\t\t\t\t\t\t\tday: \"2-digit\",\r\n                                                month: \"2-digit\",\r\n                                                year: \"numeric\",\r\n                                                hour: \"2-digit\",\r\n                                                minute: \"2-digit\",\r\n\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n                                        <div>\r\n\t\t\t\t\t\t\t\t\t\t\t<b>Kraj: </b>{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t\t{new Date(reservation.EntityDTO.endDateTime).toLocaleDateString(\"en-UK\", {\r\n\t\t\t\t\t\t\t\t\t\t\t\tday: \"2-digit\",\r\n                                                month: \"2-digit\",\r\n                                                year: \"numeric\",\r\n                                                hour: \"2-digit\",\r\n                                                minute: \"2-digit\",\r\n\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n                                        <div>\r\n\t\t\t\t\t\t\t\t\t\t\t<b>Naziv: </b>{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t\t{reservation.EntityDTO.unit.EntityDTO.name}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t<b>Vlasnik: </b>{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t\t{reservation.EntityDTO.user.EntityDTO.name}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t<b>Ukupna cena:</b>{\" \"}\r\n                                         {reservation.EntityDTO.price }\r\n                                             <b>  din</b>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</td>\r\n\r\n\r\n\t\t\t\t\t\t\t\t\t<td className=\"align-middle\">\r\n\t\t\t\t\t\t\t\t\t\t<div style={{ marginLeft: \"55%\" }}>\r\n\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => this.handleComplaintClick(reservation.EntityDTO.unit)}\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"btn btn-outline-secondary\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\tŽalba na brod\r\n\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t<div style={{ marginLeft: \"55%\",marginTop: \"1em\"  }}>\r\n\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => this.handleComplaintClickOwner(reservation.EntityDTO.user)}\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"btn btn-outline-secondary\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\tŽalba na vlasnika\r\n\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t</div>\t\r\n\r\n\t\t\t\t\t\t\t\t\t</td>\r\n\r\n\t\t\t\t\t\t\t\t\t\r\n\r\n                                    \r\n                                    \r\n\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t</table>\r\n                </div>\r\n\r\n\t\t\t\r\n\t\t\t\t\r\n\r\n          \r\n        </div>\r\n\r\n\r\n                <ComplaintModal\r\n\t\t\t\t\tbuttonName=\"Pošalji\"\r\n\t\t\t\t\theader=\"Napiši žalbu\"\r\n\t\t\t\t\thandleComplaintChange={this.handleComplaintChange}\r\n\t\t\t\t\tshow={this.state.showComplaintModal}\r\n\t\t\t\t\tonCloseModal={this.handleComplaintModalClose}\r\n\t\t\t\t\tgiveFeedback={this.handleComaplaint}\r\n\t\t\t\t\tname={this.state.unitName}\r\n\t\t\t\t/>\r\n\r\n              <ComplaintModal\r\n\t\t\t\t\tbuttonName=\"Pošalji\"\r\n\t\t\t\t\theader=\"Napiši žalbu\"\r\n\t\t\t\t\thandleComplaintChange={this.handleComplaintChange1}\r\n\t\t\t\t\tshow={this.state.showComplaintModal1}\r\n\t\t\t\t\tonCloseModal={this.handleComplaintModalClose1}\r\n\t\t\t\t\tgiveFeedback={this.handleComaplaintOwner}\r\n\t\t\t\t\tname={\"vlasnika broda \" + this.state.ownerName}\r\n\t\t\t\t/>\r\n\r\n\r\n\r\n\r\n        </React.Fragment>\r\n    \r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default BoatHistoryReservationsPage;","E:\\aca\\isa\\nova-isa-projekat\\isa2021\\isa-projekat\\ISA-front\\src\\Components\\Modal\\ComplaintModal.js",[],"E:\\aca\\isa\\nova-isa-projekat\\isa2021\\isa-projekat\\ISA-front\\src\\Pages\\ComplaintUserPage.js",["171"],"import React, { Component } from \"react\";\r\nimport Axios from \"axios\";\r\nimport ComplaintImage from \"../Images/report.png\" ;\r\nimport Header from '../Components/Header';\r\nimport GetAuthorisation from \"../Funciton/GetAuthorisation\";\r\nimport ReplyModal from \"../Components/Modal/ReplyModal\"\r\n\r\nconst API_URL = \"http://localhost:8080\"\r\n\r\nclass ComplaintUserPage extends Component {\r\n\r\n\r\n\r\n  state = {\r\n    complaints : [],\r\n    clientName : \"\",\r\n    complaintId : \"\",\r\n    showComplaintModal : false,\r\n    replyTo:\"\",\r\n    reply:\"\"\r\n\r\n\r\n};\r\n\r\n\r\n\r\n  componentDidMount() {\r\n\r\n    Axios.get(API_URL + \"/complaint/getComplaintsUser\", {\r\n\t\t\tvalidateStatus: () => true,\r\n\t\t\theaders: { Authorization: GetAuthorisation() },\r\n\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tif (res.status === 401) {\r\n          this.props.history.push('/login');\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.setState({ complaints: res.data });\r\n\t\t\t\t\tconsole.log(res.data);\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t});\r\n\r\n\r\n\r\n  }\r\n\r\n  handleReplyChange = (event) => {\r\n    this.setState({ reply: event.target.value });\r\n};\r\n\r\nhandleReplyToUserChange = (event) => {\r\n    this.setState({ replyTo: event.target.value });\r\n};\r\nhandleComplaintModalClose = () => {\r\n    this.setState({ showComplaintModal: false });\r\n};\r\n\r\nhandleReplyComaplaint = () => {\r\n    console.log(this.state.reply);\r\n    console.log(this.state.replyTo);\r\n    console.log(this.state.complaintId);\r\n\r\n\r\n    let ComplaintUserDTO = {\r\n        ownerId : this.state.complaintId,\r\n        reply : this.state.reply,\r\n        replyToUser : this.state.replyTo,\r\n    \r\n    };\r\n    if(this.state.reply === \"\" || this.state.replyTo ===\"\")\r\n    {\r\n        alert(\"Morate uneti odgovore\")\r\n    }else{\r\n    Axios.post(API_URL+\"/complaint/replyToUserComplaint\" , ComplaintUserDTO,  { validateStatus: () => true, headers: { Authorization: GetAuthorisation() } })\r\n        .then((resp) => {\r\n            if (resp.status === 500) {\r\n                this.setState({ hiddenFailAlert: false, failHeader: \"Internal server error\", failMessage: \"Server error.\" });\r\n            } else if (resp.status === 201) {\r\n                \r\n\r\n      Axios.get(API_URL + \"/complaint/getComplaintsUser\", {\r\n        validateStatus: () => true,\r\n        headers: { Authorization: GetAuthorisation() },\r\n    })\r\n        .then((res) => {\r\n            if (res.status === 401) {\r\n      this.props.history.push('/login');\r\n            } else {\r\n                this.setState({ complaints: res.data });\r\n                console.log(res.data);\r\n            }\r\n        })\r\n        .catch((err) => {\r\n            console.log(err);\r\n        });\r\n                \r\n            }\r\n            this.setState({ showComplaintModal: false });\r\n        })\r\n        .catch((err) => {\r\n            console.log(err);\r\n        });\r\n    }\r\n};\r\n\r\nhandleReplyClick = (complaint) => {\r\n    console.log(complaint);\r\n    this.setState({\r\n        clientName: complaint.EntityDTO.clientName,\r\n        replyTo : complaint.EntityDTO.replayTo,\r\n        reply : complaint.EntityDTO.reply,\r\n        complaintId : complaint.Id,\r\n        showComplaintModal: true,\r\n    });\r\n};\r\n\r\n\r\n\r\n\r\n    render() {\r\n\t\r\n\r\n\t\treturn (\r\n      \r\n      <React.Fragment>\r\n\r\n      <Header/>\r\n\r\n      <h5 className=\" text-center  mb-0 text-uppercase\" style={{ marginTop: \"5rem\" }}>\r\n\t\t\t\t\t\tŽalbe na vlasnike vikendica i instruktore\r\n\t\t\t\t</h5>\r\n\r\n\r\n        <table className=\"table\" style={{ width: \"60%\", marginTop: \"5em\", marginLeft: \"auto\",marginRight: \"auto\" }}>\r\n\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t{this.state.complaints.map((complaint) => (\r\n\t\t\t\t\t\t\t\t<tr id={complaint.Id} key={complaint.Id} >\r\n\t\t\t\t\t\t\t\t\t<td width=\"130em\">\r\n\t\t\t\t\t\t\t\t\t\t<img className=\"img-fluid\" src={ComplaintImage} width=\"70em\" />\r\n\t\t\t\t\t\t\t\t\t</td>\r\n\r\n                  <td>\r\n                                        \r\n                                        <div>  \r\n                                        <b>Klijent: </b>{complaint.EntityDTO.clientName}\r\n                        \r\n                                        </div>\r\n                                        <div>  \r\n                                        <b>Osoba na koju se žali: </b>{complaint.EntityDTO.userName}\r\n                        \r\n                                        </div> \r\n                                        <div>  \r\n                                        <b>Tip korsnika: </b>{complaint.EntityDTO.profession}\r\n                        \r\n                                        </div> \r\n                                        <div>  \r\n                                        <b>Tekst žalbe: </b>{complaint.EntityDTO.text}\r\n                        \r\n                                        </div>  \r\n\r\n                                        \r\n\r\n                                      </td>\r\n\r\n                                      <td className=\"align-middle\">\r\n                                      <div style={{ marginLeft: \"55%\" }}>\r\n                                        <button\r\n                                          type=\"button\"\r\n                                          className=\"btn btn-outline-secondary btn-block\"\r\n                                          onClick={() => this.handleReplyClick(complaint)}\r\n                                        >\r\n                                          Reply\r\n                                        </button>\r\n                                      </div>\r\n                                      \r\n                                    </td>\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t</table>\r\n                    <ReplyModal\r\n\t\t\t\t\tbuttonName=\"Pošalji\"\r\n\t\t\t\t\theader=\"Odgovor na žalbu\"\r\n\t\t\t\t\thandleReplyChange={this.handleReplyChange}\r\n                    handleReplyToChange={this.handleReplyToUserChange}\r\n\t\t\t\t\tshow={this.state.showComplaintModal}\r\n\t\t\t\t\tonCloseModal={this.handleComplaintModalClose}\r\n\t\t\t\t\tgiveFeedback={this.handleReplyComaplaint}\r\n\t\t\t\t\tname={this.state.clientName}\r\n\t\t\t\t/>\r\n     \r\n      </React.Fragment>\r\n        \r\n\t\t);\r\n        }\r\n\r\n}\r\nexport default ComplaintUserPage;","E:\\aca\\isa\\nova-isa-projekat\\isa2021\\isa-projekat\\ISA-front\\src\\Pages\\ComplaintUnitPage.js",["172"],"import React, { Component } from \"react\";\r\nimport Axios from \"axios\";\r\nimport ComplaintImage from \"../Images/report.png\" ;\r\nimport Header from '../Components/Header';\r\nimport GetAuthorisation from \"../Funciton/GetAuthorisation\";\r\nimport ReplyModal from \"../Components/Modal/ReplyModal\"\r\n\r\nconst API_URL = \"http://localhost:8080\"\r\n\r\nclass ComplaintUnitPage extends Component {\r\n\r\n\r\n\r\n  state = {\r\n    complaints : [],\r\n    unitName : \"\",\r\n    complaintId : \"\",\r\n    showComplaintModal : false,\r\n    replyTo:\"\",\r\n    reply:\"\"\r\n\r\n\r\n};\r\n\r\n\r\n\r\n  componentDidMount() {\r\n\r\n    Axios.get(API_URL + \"/complaint/getComplaintsUnit\", {\r\n\t\t\tvalidateStatus: () => true,\r\n\t\t\theaders: { Authorization: GetAuthorisation() },\r\n\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tif (res.status === 401) {\r\n          this.props.history.push('/login');\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.setState({ complaints: res.data });\r\n\t\t\t\t\tconsole.log(res.data);\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t});\r\n\r\n\r\n\r\n  }\r\n\r\n\r\nhandleReplyChange = (event) => {\r\n    this.setState({ reply: event.target.value });\r\n};\r\n\r\nhandleReplyToUserChange = (event) => {\r\n    this.setState({ replyTo: event.target.value });\r\n};\r\nhandleComplaintModalClose = () => {\r\n    this.setState({ showComplaintModal: false });\r\n};\r\n\r\nhandleReplyComaplaint = () => {\r\n    console.log(this.state.reply);\r\n    console.log(this.state.replyTo);\r\n    console.log(this.state.complaintId);\r\n\r\n\r\n    let ComplaintUnitDTO = {\r\n        unitId : this.state.complaintId,\r\n        reply : this.state.reply,\r\n        replyToUser : this.state.replyTo,\r\n    \r\n    };\r\n    if(this.state.reply === \"\" || this.state.replyTo ===\"\")\r\n    {\r\n        alert(\"Morate uneti odgovore\")\r\n    }else{\r\n    Axios.post(API_URL+\"/complaint/replyToUnitComplaint\" , ComplaintUnitDTO,  { validateStatus: () => true, headers: { Authorization: GetAuthorisation() } })\r\n        .then((resp) => {\r\n            if (resp.status === 500) {\r\n                this.setState({ hiddenFailAlert: false, failHeader: \"Internal server error\", failMessage: \"Server error.\" });\r\n            } else if (resp.status === 201) {\r\n                \r\n\r\n      Axios.get(API_URL + \"/complaint/getComplaintsUnit\", {\r\n        validateStatus: () => true,\r\n        headers: { Authorization: GetAuthorisation() },\r\n    })\r\n        .then((res) => {\r\n            if (res.status === 401) {\r\n      this.props.history.push('/login');\r\n            } else {\r\n                this.setState({ complaints: res.data });\r\n                console.log(res.data);\r\n            }\r\n        })\r\n        .catch((err) => {\r\n            console.log(err);\r\n        });\r\n                \r\n            }\r\n            this.setState({ showComplaintModal: false });\r\n        })\r\n        .catch((err) => {\r\n            console.log(err);\r\n        });\r\n    }\r\n};\r\n\r\nhandleReplyClick = (complaint) => {\r\n    console.log(complaint);\r\n    this.setState({\r\n        unitName: complaint.EntityDTO.clientName,\r\n        replyTo : complaint.EntityDTO.replayTo,\r\n        reply : complaint.EntityDTO.reply,\r\n        complaintId : complaint.Id,\r\n        showComplaintModal: true,\r\n    });\r\n};\r\n\r\n\r\n\r\n    render() {\r\n\t\r\n\r\n\t\treturn (\r\n      \r\n      <React.Fragment>\r\n\r\n      <Header/>\r\n\r\n      <h5 className=\" text-center  mb-0 text-uppercase\" style={{ marginTop: \"5rem\" }}>\r\n\t\t\t\t\t\tŽalbe na Entitete\r\n\t\t\t\t</h5>\r\n\r\n\r\n        <table className=\"table\" style={{ width: \"60%\", marginTop: \"5em\", marginLeft: \"auto\",marginRight: \"auto\" }}>\r\n\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t{this.state.complaints.map((complaint) => (\r\n\t\t\t\t\t\t\t\t<tr id={complaint.Id} key={complaint.Id} >\r\n\t\t\t\t\t\t\t\t\t<td width=\"130em\">\r\n\t\t\t\t\t\t\t\t\t\t<img className=\"img-fluid\" src={ComplaintImage} width=\"70em\" />\r\n\t\t\t\t\t\t\t\t\t</td>\r\n\r\n                  <td> \r\n                                        \r\n                                        <div>  \r\n                                        <b>Klijent: </b>{complaint.EntityDTO.clientName}\r\n                        \r\n                                        </div>\r\n                                        <div>  \r\n                                        <b>Osoba na koju se žali: </b>{complaint.EntityDTO.unitName}\r\n                        \r\n                                        </div> \r\n                                    \r\n                                        <div>  \r\n                                        <b>Tekst žalbe: </b>{complaint.EntityDTO.text}\r\n                        \r\n                                        </div>  \r\n\r\n                                        \r\n\r\n                                      </td>\r\n\r\n                                      <td className=\"align-middle\">\r\n                                      <div style={{ marginLeft: \"55%\" }}>\r\n                                        <button\r\n                                          type=\"button\"\r\n                                          className=\"btn btn-outline-secondary btn-block\"\r\n                                          onClick={() => this.handleReplyClick(complaint)}\r\n                                        >\r\n                                          Reply\r\n                                        </button>\r\n                                      </div>\r\n                                      \r\n                                    </td>\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t</table>\r\n\r\n                    <ReplyModal\r\n\t\t\t\t\tbuttonName=\"Pošalji\"\r\n\t\t\t\t\theader=\"Odgovor na žalbu\"\r\n\t\t\t\t\thandleReplyChange={this.handleReplyChange}\r\n                    handleReplyToChange={this.handleReplyToUserChange}\r\n\t\t\t\t\tshow={this.state.showComplaintModal}\r\n\t\t\t\t\tonCloseModal={this.handleComplaintModalClose}\r\n\t\t\t\t\tgiveFeedback={this.handleReplyComaplaint}\r\n\t\t\t\t\tname={this.state.unitName}\r\n\t\t\t\t/>\r\n     \r\n      </React.Fragment>\r\n        \r\n\t\t);\r\n        }\r\n\r\n}\r\nexport default ComplaintUnitPage;","E:\\aca\\isa\\nova-isa-projekat\\isa2021\\isa-projekat\\ISA-front\\src\\Components\\Modal\\ReplyModal.js",[],"E:\\aca\\isa\\nova-isa-projekat\\isa2021\\isa-projekat\\ISA-front\\src\\Components\\Modal\\CancelModal.js",[],"E:\\aca\\isa\\nova-isa-projekat\\isa2021\\isa-projekat\\ISA-front\\src\\Pages\\Boats\\ActionReservationPageBoat.js",["173","174","175","176","177"],"import React, { Component } from \"react\";\r\nimport Axios from \"axios\";\r\nimport Header from '../../Components/Header';\r\nimport GetAuthorisation from \"../../Funciton/GetAuthorisation\";\r\nimport {NavLink, Redirect } from \"react-router-dom\";\r\nimport CancelModal from \"../../Components/Modal/CancelModal\";\r\n\r\nconst API_URL=\"http://localhost:8080\";\r\n\r\nclass ActionReservationPageBoat extends Component {\r\n\t\r\n  \r\n    \r\n    state = {\r\n        reservations : [],\r\n        showCancelModal:false,\r\n        reservationId:\"\",\r\n    };\r\n\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n  \r\n\r\n\r\n  componentDidMount() {\r\n\r\n    if (!this.hasRole(\"ROLE_CLIENT\")) {\r\n\t\t\tthis.props.history.push('/login');\r\n    }\r\n\r\n    \r\n    Axios.get(API_URL + \"/reservation/findAllActionBoatReservationClient\", {\r\n\t\t\tvalidateStatus: () => true,\r\n\t\t\theaders: { Authorization: GetAuthorisation() },\r\n\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tif (res.status === 401) {\r\n                    this.props.history.push('/login');\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.setState({ reservations: res.data });\r\n\t\t\t\t\tconsole.log(res.data);\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t});\r\n\t}\r\n      \r\n\r\n  hasRole = (requestRole) => {\r\n    let currentRoles = JSON.parse(localStorage.getItem(\"keyRole\"));\r\n\r\n    if (currentRoles === null) return false;\r\n\r\n\r\n    for (let currentRole of currentRoles) {\r\n      if (currentRole === requestRole) return true;\r\n    }\r\n    return false;\r\n  };\r\n\r\n\r\n \r\n    moveToReservation =() => {\r\n\r\n       this.props.history.push(\"/boats\");\r\n    }\r\n\r\n\r\n    handleReservation = (reservation) => {\r\n  \r\n        let reservationIdDTO = { id: reservation.Id};\r\n    \r\n        Axios.post(API_URL + \"/reservation/fastReservation\",reservationIdDTO , {\r\n                validateStatus: () => true,\r\n                headers: { Authorization: GetAuthorisation() },\r\n            })\r\n          .then((res) => {\r\n            if (res.status === 400) {\r\n                alert(res.data);\r\n    \r\n            } else if (res.status === 500) {\r\n    \r\n                alert(\"Serverska greška\")\r\n    \r\n            } \r\n            else if (res.status === 404) {\r\n    \r\n            \r\n                    alert(res.data);\r\n      \r\n            } else if (res.status === 200) {\r\n              console.log(\"Success\");\r\n              alert(\"Uspešno je rezervisana akcija!\")\r\n              this.setState({showCancelModal:false});\r\n              Axios.get(API_URL + \"/reservation/findAllActionBoatReservationClient\", {\r\n                validateStatus: () => true,\r\n                headers: { Authorization: GetAuthorisation() },\r\n            })\r\n                .then((res) => {\r\n                    if (res.status === 401) {\r\n              this.props.history.push('/login');\r\n                    } else {\r\n                        this.setState({ reservations: res.data });\r\n                        console.log(res.data);\r\n                    }\r\n                })\r\n                .catch((err) => {\r\n                    console.log(err);\r\n                });\r\n                        \r\n                    }\r\n               \r\n          })\r\n          .catch((err) => {\r\n            console.log(err);\r\n            alert(\"Greška\")\r\n          \r\n          });\r\n    \r\n        \r\n      \r\n    \r\n      }\r\n   \r\n\trender() {\r\n\t\r\n\r\n\t\treturn (\r\n      \r\n      <React.Fragment>\r\n\r\n      <Header/>\r\n      \r\n         <div className=\"container\">\r\n\r\n\r\n         <button type=\"button\" class=\"btn btn-outline-primary btn-lg\"\r\n         onClick={() => this.moveToReservation()}\r\n         style={{  marginTop: \"2em\", marginLeft: \"auto\",marginRight: \"auto\" }}\r\n          >\r\n         Nazad\r\n         </button>\r\n\r\n         <h1 hidden={this.state.reservations.length === 0} className=\"text-center  mt-3  \" >Akcije!</h1>\r\n         <h1 hidden={this.state.reservations.length !== 0} className=\"text-center  mt-3 text-danger\"  >Nema akcije!</h1>\r\n\r\n\r\n\r\n      \r\n        \r\n    \r\n        <div className=\"container\">\r\n                    \r\n          <table className=\"table \" style={{ width: \"80%\", marginTop: \"5em\", marginLeft: \"auto\",marginRight: \"auto\" }}>\r\n\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t{this.state.reservations.map((reservation) => (\r\n\t\t\t\t\t\t\t\t<tr\r\n\t\t\t\t\t\t\t\t\tid={reservation.Id}\r\n\t\t\t\t\t\t\t\t\tkey={reservation.Id}\r\n\t\t\t\t\t\t\t\t\tstyle={{ cursor: \"pointer\" }}\r\n\t\t\t\t\t\t\t\t>\r\n\r\n                   <td width=\"150px\">  \r\n                   <img className=\"img-fluid\" src={`data:image/jpeg;base64,${reservation.EntityDTO.unit.EntityDTO.image}`} width=\"300em\"  />                                \r\n                                    \r\n                    </td>\r\n                    \r\n\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t<b>Početak: </b>{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t\t{new Date(reservation.EntityDTO.startDateTime).toLocaleDateString(\"en-UK\", {\r\n\t\t\t\t\t\t\t\t\t\t\t\tday: \"2-digit\",\r\n                                                month: \"2-digit\",\r\n                                                year: \"numeric\",\r\n                                                hour: \"2-digit\",\r\n                                                minute: \"2-digit\",\r\n\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n                                        <div>\r\n\t\t\t\t\t\t\t\t\t\t\t<b>Kraj: </b>{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t\t{new Date(reservation.EntityDTO.endDateTime).toLocaleDateString(\"en-UK\", {\r\n\t\t\t\t\t\t\t\t\t\t\t\tday: \"2-digit\",\r\n                                                month: \"2-digit\",\r\n                                                year: \"numeric\",\r\n                                                hour: \"2-digit\",\r\n                                                minute: \"2-digit\",\r\n\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n                                        <div>\r\n\t\t\t\t\t\t\t\t\t\t\t<b>Naziv: </b>{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t\t{reservation.EntityDTO.unit.EntityDTO.name}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t<b>Vlasnik: </b>{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t\t{reservation.EntityDTO.user.EntityDTO.name}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t<b>Ukupna cena:</b>{\" \"}\r\n                                         {reservation.EntityDTO.price }\r\n                                             <b>  din</b>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n                                        <div>\r\n\t\t\t\t\t\t\t\t\t\t\t<b>Cena na akciji:</b>{\" \"}\r\n                                         {reservation.EntityDTO.actionPrice }\r\n                                             <b>  din</b>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</td>\r\n\r\n                                    <td className=\"align-middle\">\r\n                                    <button\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"button\"\r\n                                            className=\"btn btn-outline-danger\"\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => this.handleReservation(reservation)}\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\tRezerviši odmah\r\n\t\t\t\t\t\t\t\t\t\t</button>\r\n                                    </td>\r\n\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t</table>\r\n                </div>\r\n\r\n\r\n          \r\n        </div>\r\n        </React.Fragment>\r\n        \r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default ActionReservationPageBoat;","E:\\aca\\isa\\nova-isa-projekat\\isa2021\\isa-projekat\\ISA-front\\src\\Pages\\Cottages\\CottageFutureReservationsPage.js",["178","179","180","181"],"E:\\aca\\isa\\nova-isa-projekat\\isa2021\\isa-projekat\\ISA-front\\src\\Pages\\Cottages\\CottageHistoryReservationsPage.js",["182","183","184","185"],{"ruleId":"186","severity":1,"message":"187","line":10,"column":8,"nodeType":"188","messageId":"189","endLine":10,"endColumn":9},{"ruleId":"186","severity":1,"message":"190","line":11,"column":8,"nodeType":"188","messageId":"189","endLine":11,"endColumn":14},{"ruleId":"191","replacedBy":"192"},{"ruleId":"193","replacedBy":"194"},{"ruleId":"186","severity":1,"message":"195","line":21,"column":3,"nodeType":"188","messageId":"189","endLine":21,"endColumn":7},{"ruleId":"186","severity":1,"message":"196","line":2,"column":13,"nodeType":"188","messageId":"189","endLine":2,"endColumn":27},{"ruleId":"186","severity":1,"message":"197","line":6,"column":8,"nodeType":"188","messageId":"189","endLine":6,"endColumn":24},{"ruleId":"186","severity":1,"message":"198","line":7,"column":8,"nodeType":"188","messageId":"189","endLine":7,"endColumn":13},{"ruleId":"186","severity":1,"message":"199","line":4,"column":22,"nodeType":"188","messageId":"189","endLine":4,"endColumn":28},{"ruleId":"186","severity":1,"message":"200","line":7,"column":10,"nodeType":"188","messageId":"189","endLine":7,"endColumn":22},{"ruleId":"201","severity":1,"message":"202","line":53,"column":3,"nodeType":"203","messageId":"204","endLine":53,"endColumn":13},{"ruleId":"205","severity":1,"message":"206","line":200,"column":3,"nodeType":"207","messageId":"208","endLine":290,"endColumn":3},{"ruleId":"209","severity":1,"message":"210","line":861,"column":13,"nodeType":"211","endLine":861,"endColumn":112},{"ruleId":"186","severity":1,"message":"212","line":2,"column":18,"nodeType":"188","messageId":"189","endLine":2,"endColumn":29},{"ruleId":"186","severity":1,"message":"198","line":3,"column":8,"nodeType":"188","messageId":"189","endLine":3,"endColumn":13},{"ruleId":"186","severity":1,"message":"197","line":4,"column":8,"nodeType":"188","messageId":"189","endLine":4,"endColumn":24},{"ruleId":"186","severity":1,"message":"213","line":6,"column":10,"nodeType":"188","messageId":"189","endLine":6,"endColumn":18},{"ruleId":"186","severity":1,"message":"200","line":7,"column":10,"nodeType":"188","messageId":"189","endLine":7,"endColumn":22},{"ruleId":"186","severity":1,"message":"214","line":9,"column":7,"nodeType":"188","messageId":"189","endLine":9,"endColumn":14},{"ruleId":"186","severity":1,"message":"200","line":7,"column":10,"nodeType":"188","messageId":"189","endLine":7,"endColumn":22},{"ruleId":"201","severity":1,"message":"202","line":53,"column":3,"nodeType":"203","messageId":"204","endLine":53,"endColumn":13},{"ruleId":"205","severity":1,"message":"206","line":200,"column":3,"nodeType":"207","messageId":"208","endLine":290,"endColumn":3},{"ruleId":"209","severity":1,"message":"210","line":861,"column":13,"nodeType":"211","endLine":861,"endColumn":115},{"ruleId":"215","severity":1,"message":"216","line":68,"column":2,"nodeType":"217","messageId":"218","endLine":70,"endColumn":3},{"ruleId":"219","severity":1,"message":"220","line":288,"column":44,"nodeType":"221","messageId":"222","endLine":288,"endColumn":45,"suggestions":"223"},{"ruleId":"219","severity":1,"message":"220","line":288,"column":63,"nodeType":"221","messageId":"222","endLine":288,"endColumn":64,"suggestions":"224"},{"ruleId":"186","severity":1,"message":"225","line":2,"column":10,"nodeType":"188","messageId":"189","endLine":2,"endColumn":16},{"ruleId":"186","severity":1,"message":"200","line":7,"column":10,"nodeType":"188","messageId":"189","endLine":7,"endColumn":22},{"ruleId":"209","severity":1,"message":"210","line":204,"column":13,"nodeType":"211","endLine":204,"endColumn":112},{"ruleId":"186","severity":1,"message":"226","line":5,"column":8,"nodeType":"188","messageId":"189","endLine":5,"endColumn":18},{"ruleId":"186","severity":1,"message":"227","line":6,"column":10,"nodeType":"188","messageId":"189","endLine":6,"endColumn":18},{"ruleId":"186","severity":1,"message":"213","line":8,"column":10,"nodeType":"188","messageId":"189","endLine":8,"endColumn":18},{"ruleId":"209","severity":1,"message":"210","line":151,"column":13,"nodeType":"211","endLine":151,"endColumn":108},{"ruleId":"186","severity":1,"message":"228","line":5,"column":9,"nodeType":"188","messageId":"189","endLine":5,"endColumn":16},{"ruleId":"186","severity":1,"message":"213","line":5,"column":18,"nodeType":"188","messageId":"189","endLine":5,"endColumn":26},{"ruleId":"215","severity":1,"message":"216","line":21,"column":5,"nodeType":"217","messageId":"218","endLine":23,"endColumn":6},{"ruleId":"209","severity":1,"message":"210","line":194,"column":20,"nodeType":"211","endLine":194,"endColumn":141},{"ruleId":"186","severity":1,"message":"228","line":8,"column":9,"nodeType":"188","messageId":"189","endLine":8,"endColumn":16},{"ruleId":"186","severity":1,"message":"213","line":8,"column":18,"nodeType":"188","messageId":"189","endLine":8,"endColumn":26},{"ruleId":"215","severity":1,"message":"216","line":37,"column":5,"nodeType":"217","messageId":"218","endLine":39,"endColumn":6},{"ruleId":"209","severity":1,"message":"210","line":398,"column":20,"nodeType":"211","endLine":398,"endColumn":141},{"ruleId":"209","severity":1,"message":"210","line":141,"column":11,"nodeType":"211","endLine":141,"endColumn":74},{"ruleId":"209","severity":1,"message":"210","line":141,"column":11,"nodeType":"211","endLine":141,"endColumn":74},{"ruleId":"186","severity":1,"message":"228","line":5,"column":9,"nodeType":"188","messageId":"189","endLine":5,"endColumn":16},{"ruleId":"186","severity":1,"message":"213","line":5,"column":18,"nodeType":"188","messageId":"189","endLine":5,"endColumn":26},{"ruleId":"186","severity":1,"message":"229","line":6,"column":8,"nodeType":"188","messageId":"189","endLine":6,"endColumn":19},{"ruleId":"215","severity":1,"message":"216","line":20,"column":5,"nodeType":"217","messageId":"218","endLine":22,"endColumn":6},{"ruleId":"209","severity":1,"message":"210","line":166,"column":20,"nodeType":"211","endLine":166,"endColumn":141},{"ruleId":"186","severity":1,"message":"228","line":5,"column":9,"nodeType":"188","messageId":"189","endLine":5,"endColumn":16},{"ruleId":"186","severity":1,"message":"213","line":5,"column":18,"nodeType":"188","messageId":"189","endLine":5,"endColumn":26},{"ruleId":"215","severity":1,"message":"216","line":21,"column":5,"nodeType":"217","messageId":"218","endLine":23,"endColumn":6},{"ruleId":"209","severity":1,"message":"210","line":194,"column":20,"nodeType":"211","endLine":194,"endColumn":141},{"ruleId":"186","severity":1,"message":"228","line":8,"column":9,"nodeType":"188","messageId":"189","endLine":8,"endColumn":16},{"ruleId":"186","severity":1,"message":"213","line":8,"column":18,"nodeType":"188","messageId":"189","endLine":8,"endColumn":26},{"ruleId":"215","severity":1,"message":"216","line":37,"column":5,"nodeType":"217","messageId":"218","endLine":39,"endColumn":6},{"ruleId":"209","severity":1,"message":"210","line":398,"column":20,"nodeType":"211","endLine":398,"endColumn":141},"no-unused-vars","'$' is defined but never used.","Identifier","unusedVar","'Popper' is defined but never used.","no-native-reassign",["230"],"no-negated-in-lhs",["231"],"'Link' is defined but never used.","'ReactBootStrap' is defined but never used.","'GetAuthorisation' is defined but never used.","'Axios' is defined but never used.","'Router' is defined but never used.","'confirmAlert' is defined but never used.","react/no-direct-mutation-state","Do not mutate state directly. Use setState().","MemberExpression","noDirectMutation","no-lone-blocks","Nested block is redundant.","BlockStatement","redundantNestedBlock","jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement","'CloseButton' is defined but never used.","'Redirect' is defined but never used.","'API_URL' is assigned a value but never used.","no-useless-constructor","Useless constructor.","MethodDefinition","noUselessConstructor","no-useless-escape","Unnecessary escape character: \\/.","Literal","unnecessaryEscape",["232","233"],["234","235"],"'Button' is defined but never used.","'DatePicker' is defined but never used.","'useState' is defined but never used.","'NavLink' is defined but never used.","'CancelModal' is defined but never used.","no-global-assign","no-unsafe-negation",{"messageId":"236","fix":"237","desc":"238"},{"messageId":"239","fix":"240","desc":"241"},{"messageId":"236","fix":"242","desc":"238"},{"messageId":"239","fix":"243","desc":"241"},"removeEscape",{"range":"244","text":"245"},"Remove the `\\`. This maintains the current functionality.","escapeBackslash",{"range":"246","text":"247"},"Replace the `\\` with `\\\\` to include the actual backslash character.",{"range":"248","text":"245"},{"range":"249","text":"247"},[6808,6809],"",[6808,6808],"\\",[6827,6828],[6827,6827]]